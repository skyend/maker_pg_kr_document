<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>システム情報関数</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version "><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.1.4文書"
HREF="index.html"><LINK
REL="UP"
TITLE="関数と演算子"
HREF="functions.html"><LINK
REL="PREVIOUS"
TITLE="集合を返す関数"
HREF="functions-srf.html"><LINK
REL="NEXT"
TITLE="システム管理関数"
HREF="functions-admin.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=euc-jp"><META
NAME="creation"
CONTENT="2012-06-16T03:12:10"></HEAD
><BODY
CLASS="SECT1"
><script type="text/javascript">
var mod_layout = 'test';
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-50659-6");
pageTracker._trackPageview();
</script>
<style>
body{margin:0;}
#lay_body{margin:8px;}
#lay_header{margin:0 0 4px 0;border:0;padding:0;}
#lay_header .b1{border-bottom:#cef solid 1px;}
#lay_header .b2{border-bottom:#8df solid 1px;}
#lay_header .b3{border-bottom:#4bf solid 1px;padding:5px 5px 3px 5px;background:#0af;text-align:center;color:#fff;}
#lay_header a{text-decoration:none;color:#fff;font-weight:bold;}
#lay_header a:hover{text-decoration:underline;}
</style>
<div id="lay_header"><div class="b1"><div class="b2"><div class="b3">
<a href="http://lets.postgresql.jp/" target="_blank">PostgreSQLポータルサイト ＜Let's Postgres＞ http://lets.postgresql.jp/</a><br>
入門から運用、チューニングノウハウ、新機能の解説など、幅広い内容の技術解説記事をお読みいただけます。
</div></div></div></div>
<div id="lay_body">
<DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.1.4文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="集合を返す関数"
HREF="functions-srf.html"
ACCESSKEY="P"
>&#21069;&#12398;&#12506;&#12540;&#12472;</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="関数と演算子"
HREF="functions.html"
>&#24059;&#25147;&#12375;</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>&#31532; 9&#31456;関数と演算子</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
TITLE="関数と演算子"
HREF="functions.html"
>&#26089;&#36865;&#12426;</A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
TITLE="システム管理関数"
HREF="functions-admin.html"
ACCESSKEY="N"
>&#27425;&#12398;&#12506;&#12540;&#12472;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="FUNCTIONS-INFO"
>9.23. システム情報関数</A
></H1
><P
>  
   <A
HREF="functions-info.html#FUNCTIONS-INFO-SESSION-TABLE"
>&#34920;9-47</A
>に、セッションおよびシステムの情報を抽出する関数を示します。
  </P
><P
>  
   本節でリストされている関数のほかに、同様にシステム情報を提供する統計システムに関連した数多くの関数があります。<A
HREF="monitoring-stats.html#MONITORING-STATS-VIEWS"
>&#38917;27.2.2</A
>にさらに情報があります。
  </P
><DIV
CLASS="TABLE"
><A
NAME="FUNCTIONS-INFO-SESSION-TABLE"
></A
><P
><B
>&#34920; 9-47. セッション情報関数</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><THEAD
><TR
><TH
>名前</TH
><TH
>戻り型</TH
><TH
>説明</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>current_catalog</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>name</TT
></TD
><TD
>（SQL標準で<SPAN
CLASS="QUOTE"
>"カタログ"</SPAN
>と呼ばれる）現在のデータベースの名前</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>current_database()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>name</TT
></TD
><TD
>現在のデータベースの名前</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>current_query()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>クライアントから提示された、現在実行中問い合わせのテキスト（複数の文を含むことあり）</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>current_schema</CODE
>[()]</TT
></TD
><TD
><TT
CLASS="TYPE"
>name</TT
></TD
><TD
>現在のスキーマの名前</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>current_schemas(<TT
CLASS="TYPE"
>boolean</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>name[]</TT
></TD
><TD
>オプションで暗黙的なスキーマも含む、検索パス内のスキーマの名前</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>current_user</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>name</TT
></TD
><TD
>現在の処理実施コンテキストのユーザ名</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>inet_client_addr()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>inet</TT
></TD
><TD
>リモート接続のアドレス</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>inet_client_port()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>int</TT
></TD
><TD
>リモート接続のポート</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>inet_server_addr()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>inet</TT
></TD
><TD
>ローカル接続のアドレス</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>inet_server_port()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>int</TT
></TD
><TD
>ローカル接続のポート</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_backend_pid()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>int</TT
></TD
><TD
>       現在のセッションに結びついたサーバプロセスのプロセスID
       </TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_conf_load_time()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>timestamp with time zone</TT
></TD
><TD
>設定を読み込んだ時刻</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_is_other_temp_schema(<TT
CLASS="TYPE"
>oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>スキーマが他のセッションの一時スキーマかどうか？</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_listening_channels()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>setof text</TT
></TD
><TD
>今のセッションにおいて現在LISTEN中のチャンネル名</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_my_temp_schema()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>oid</TT
></TD
><TD
>セッションの一時スキーマのOID。もしなければ０</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_postmaster_start_time()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>timestamp with time zone</TT
></TD
><TD
>サーバの起動時刻</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>session_user</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>name</TT
></TD
><TD
>セッションのユーザ名</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>user</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>name</TT
></TD
><TD
><CODE
CLASS="FUNCTION"
>current_user</CODE
>と等価</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>version()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
><SPAN
CLASS="PRODUCTNAME"
>PostgreSQLバージョン情報</SPAN
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>&#27880;&#24847;: </B
><CODE
CLASS="FUNCTION"
>current_catalog</CODE
>、<CODE
CLASS="FUNCTION"
>current_schema</CODE
>、<CODE
CLASS="FUNCTION"
>current_user</CODE
>、<CODE
CLASS="FUNCTION"
>session_user</CODE
>および<CODE
CLASS="FUNCTION"
>user</CODE
>は<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>において特殊な構文上の地位を持っており、最後に括弧を付けずに呼び出さなければなりません。（PostgreSQLでは<CODE
CLASS="FUNCTION"
>current_schema</CODE
>の場合括弧を使用することができますが、他は使えません。）
    </P
></BLOCKQUOTE
></DIV
><P
>   
    <CODE
CLASS="FUNCTION"
>session_user</CODE
>は、通常、現在のデータベース接続を初期化したユーザです。しかし、スーパユーザはこの設定を<A
HREF="sql-set-session-authorization.html"
>SET SESSION AUTHORIZATION</A
>を使用して変更することができます。<CODE
CLASS="FUNCTION"
>current_user</CODE
>は、権限の検査に適用されるユーザ識別子です。通常はセッションユーザと同じですが、<A
HREF="sql-set-role.html"
>SET ROLE</A
>を使用して変更可能です。<TT
CLASS="LITERAL"
>SECURITY DEFINER</TT
>属性を持つ関数の実行中にも変更します。Unix用語で言うと、セッションユーザは<SPAN
CLASS="QUOTE"
>"実ユーザ"</SPAN
>で、現在のユーザは<SPAN
CLASS="QUOTE"
>"実効ユーザ"</SPAN
>です。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>current_schema</CODE
>関数は、検索パスの最初にあるスキーマ名（もしくは、検索パスが空の場合はNULL値）を返します。これは、対象スキーマを指定せずに作成された、任意のテーブルまたは他の名前付きオブジェクトに使用されるスキーマです。また、<CODE
CLASS="FUNCTION"
>current_schemas(boolean)</CODE
> は、検索パスに存在する全てのスキーマ名の配列を返します。
    booleanオプションにより、<TT
CLASS="LITERAL"
>pg_catalog</TT
>のような暗黙的に含まれているシステムスキーマを、結果の検索パスに含めるかどうかを指定します。
   </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>&#27880;&#24847;: </B
>    
     検索パスは、実行時の設定で変更することができます。使用するコマンドは以下の通りです。
</P><PRE
CLASS="PROGRAMLISTING"
>SET search_path TO <TT
CLASS="REPLACEABLE"
><I
>schema</I
></TT
> [<SPAN
CLASS="OPTIONAL"
>, <TT
CLASS="REPLACEABLE"
><I
>schema</I
></TT
>, ...</SPAN
>]</PRE
><P>
    </P
></BLOCKQUOTE
></DIV
><P
>    
    <CODE
CLASS="FUNCTION"
>pg_listening_channels</CODE
>は、現在のセッションでLISTEN中のチャンネル名のセットを返します。詳細は<A
HREF="sql-listen.html"
>LISTEN</A
>を参照して下さい。
   </P
><P
>   
     <CODE
CLASS="FUNCTION"
>inet_client_addr</CODE
>は現在のクライアントのIPアドレスを返し、<CODE
CLASS="FUNCTION"
>inet_client_port</CODE
>はそのポート番号を返します。<CODE
CLASS="FUNCTION"
>inet_server_addr</CODE
>は、現在の接続を受け付けたサーバのIPアドレスを返し、<CODE
CLASS="FUNCTION"
>inet_server_port</CODE
>はそのポート番号を返します。これら全ての関数は接続がUnix-domain socket経由の場合NULLを返します。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>pg_my_temp_schema</CODE
>は、現在のセッションの一時スキーマのOIDを返します。もし（どんな一時テーブルも作成していないので）存在しなければゼロを返します。<CODE
CLASS="FUNCTION"
>pg_is_other_temp_schema</CODE
>は、指定したOIDが他のセッションの一時スキーマのOIDであれば、真を返します。（例えば、他のセッションの一時テーブルをカタログ表示から除外したい場合などで有用です。）
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>pg_postmaster_start_time</CODE
>はサーバが起動した時の<TT
CLASS="TYPE"
>timestamp with time zone</TT
>を返します。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>pg_conf_load_time</CODE
>はサーバの設定ファイルが最後に読み込まれた時の<TT
CLASS="TYPE"
>timestamp with time zone</TT
>を返します。
    （現在のセッションがその時点で稼働していた場合、これはセッション自体が設定ファイルを読み込んだ時刻となります。
    このためこの読み取った結果は多少他のセッションと異なります。
    この他の場合は、postmasterプロセスが設定ファイルを再読み込みした時刻となります。）
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>version</CODE
>関数は<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>サーバのバージョンを記述した文字列を返します。
   </P
><P
>  
   <A
HREF="functions-info.html#FUNCTIONS-INFO-ACCESS-TABLE"
>&#34920;9-48</A
>に列挙した関数を使用して、ユーザはオブジェクトのアクセス権限をプログラムから問い合わせることができます。権限についての詳細は、<A
HREF="ddl-priv.html"
>&#38917;5.6</A
>を参照してください。
  </P
><DIV
CLASS="TABLE"
><A
NAME="FUNCTIONS-INFO-ACCESS-TABLE"
></A
><P
><B
>&#34920; 9-48. アクセス権限照会関数</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><THEAD
><TR
><TH
>名前</TH
><TH
>戻り型</TH
><TH
>説明</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_any_column_privilege</CODE
>(<TT
CLASS="PARAMETER"
>user</TT
>,
                                  <TT
CLASS="PARAMETER"
>table</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>ユーザがテーブルのどの列に対しても権限を所有しているか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_any_column_privilege</CODE
>(<TT
CLASS="PARAMETER"
>table</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>現在のユーザがテーブルのどの列に対しても権限を所有しているか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_column_privilege</CODE
>(<TT
CLASS="PARAMETER"
>user</TT
>,
                                  <TT
CLASS="PARAMETER"
>table</TT
>,
                                  <TT
CLASS="PARAMETER"
>column</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>ユーザに列に対する権限があるか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_column_privilege</CODE
>(<TT
CLASS="PARAMETER"
>table</TT
>,
                                  <TT
CLASS="PARAMETER"
>column</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>現在のユーザに列に対する権限があるか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_database_privilege</CODE
>(<TT
CLASS="PARAMETER"
>user</TT
>,
                                  <TT
CLASS="PARAMETER"
>database</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>ユーザにデータベースに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_database_privilege</CODE
>(<TT
CLASS="PARAMETER"
>database</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>現在のユーザにデータベースに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_foreign_data_wrapper_privilege</CODE
>(<TT
CLASS="PARAMETER"
>user</TT
>,
                                  <TT
CLASS="PARAMETER"
>fdw</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>ユーザに外部データラッパに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_foreign_data_wrapper_privilege</CODE
>(<TT
CLASS="PARAMETER"
>fdw</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>現在のユーザに外部データラッパに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_function_privilege</CODE
>(<TT
CLASS="PARAMETER"
>user</TT
>,
                                  <TT
CLASS="PARAMETER"
>function</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>ユーザに関数に対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_function_privilege</CODE
>(<TT
CLASS="PARAMETER"
>function</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>現在のユーザに関数に対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_language_privilege</CODE
>(<TT
CLASS="PARAMETER"
>user</TT
>,
                                  <TT
CLASS="PARAMETER"
>language</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>ユーザに言語に対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_language_privilege</CODE
>(<TT
CLASS="PARAMETER"
>language</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>現在のユーザに言語に対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_schema_privilege</CODE
>(<TT
CLASS="PARAMETER"
>user</TT
>,
                                  <TT
CLASS="PARAMETER"
>schema</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>ユーザにスキーマに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_schema_privilege</CODE
>(<TT
CLASS="PARAMETER"
>schema</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>現在のユーザにスキーマに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_sequence_privilege</CODE
>(<TT
CLASS="PARAMETER"
>user</TT
>,
                                  <TT
CLASS="PARAMETER"
>sequence</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>ユーザにシーケンスに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_sequence_privilege</CODE
>(<TT
CLASS="PARAMETER"
>sequence</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>現在のユーザにシーケンスに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_server_privilege</CODE
>(<TT
CLASS="PARAMETER"
>user</TT
>,
                                  <TT
CLASS="PARAMETER"
>server</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>ユーザに外部サーバに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_server_privilege</CODE
>(<TT
CLASS="PARAMETER"
>server</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>現在のユーザに外部サーバに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>(<TT
CLASS="PARAMETER"
>user</TT
>,
                                  <TT
CLASS="PARAMETER"
>table</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>ユーザにテーブルに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>(<TT
CLASS="PARAMETER"
>table</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>現在のユーザにテーブルに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_tablespace_privilege</CODE
>(<TT
CLASS="PARAMETER"
>user</TT
>,
                                  <TT
CLASS="PARAMETER"
>tablespace</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>ユーザにテーブル空間に対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>has_tablespace_privilege</CODE
>(<TT
CLASS="PARAMETER"
>tablespace</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>現在のユーザにテーブル空間に対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_has_role</CODE
>(<TT
CLASS="PARAMETER"
>user</TT
>,
                                  <TT
CLASS="PARAMETER"
>role</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>ユーザにロールに対する権限があるのか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_has_role</CODE
>(<TT
CLASS="PARAMETER"
>role</TT
>,
                                  <TT
CLASS="PARAMETER"
>privilege</TT
>)</TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>現在のユーザにロールに対する権限があるのか</TD
></TR
></TBODY
></TABLE
></DIV
><P
>   
    <CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>はあるユーザが特定の方法でテーブルにアクセス可能かどうかを検査します。ユーザは名前、OID(<TT
CLASS="LITERAL"
>pg_authid.oid</TT
>)、もしくは擬似的なPUBLICロールを意味する<TT
CLASS="LITERAL"
>public</TT
>で指定できます。省略された場合は<CODE
CLASS="FUNCTION"
>current_user</CODE
>が使われます。テーブルは名前もしくはOIDで指定可能です。（従って、実際には<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>の６つの変形があり、引数の数と型で区別されます。）名前を指定する場合、必要であればスキーマ権限で指定できます。目的とするアクセス権限の型はテキスト文字列で指定され、それは、<TT
CLASS="LITERAL"
>SELECT</TT
>、<TT
CLASS="LITERAL"
>INSERT</TT
>、    <TT
CLASS="LITERAL"
>UPDATE</TT
>, <TT
CLASS="LITERAL"
>DELETE</TT
>, <TT
CLASS="LITERAL"
>TRUNCATE</TT
>,
 <TT
CLASS="LITERAL"
>REFERENCES</TT
>、または<TT
CLASS="LITERAL"
>TRIGGER</TT
>の内の１つで評価されます。オプションとして、権限がGRANTオプションにより付与されているかどうかの権限の検査するため、<TT
CLASS="LITERAL"
>WITH GRANT OPTION</TT
>を付加することができます。更に、複数の権限型はコンマで分割してたリスト可能です。この場合、結果はリストされた権限の１つでも存在すれば<TT
CLASS="LITERAL"
>真</TT
>となります。（権限文字列が有効でない場合、追加の空白を権限名の中を除き、間に挿入できます。）例を示します。
 
</P><PRE
CLASS="PROGRAMLISTING"
>SELECT has_table_privilege('myschema.mytable', 'select');
SELECT has_table_privilege('joe', 'mytable', 'INSERT, SELECT WITH GRANT OPTION');</PRE
><P>
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>has_sequence_privilege</CODE
>はあるユーザが特定の方法でシーケンスにアクセス可能かどうかを検査します。可能な引数は<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>に対するものと類似しています。<TT
CLASS="LITERAL"
>USAGE</TT
>、<TT
CLASS="LITERAL"
>SELECT</TT
>または<TT
CLASS="LITERAL"
>UPDATE</TT
>の内のいずれかにより目的とする権限型が評価されます。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>has_any_column_privilege</CODE
>はあるユーザが特定の方法でテーブルのどんな列にもアクセス可能かどうかを検査します。
    可能な引数は<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>に対するものと類似していますが、<TT
CLASS="LITERAL"
>SELECT</TT
>、<TT
CLASS="LITERAL"
>INSERT</TT
>、<TT
CLASS="LITERAL"
>UPDATE</TT
>、または<TT
CLASS="LITERAL"
>REFERENCES</TT
>のいくつかの組み合わせで目的とする権限型が評価される点を除きます。テーブル階層におけるこれらの権限を所有することは、テーブルのそれぞれの列に対し暗黙的にそれら権限を与えることに注意してください。従って、同一の引数に対して<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>が<TT
CLASS="LITERAL"
>真</TT
>を返す場合、<CODE
CLASS="FUNCTION"
>has_any_column_privilege</CODE
>は常に<TT
CLASS="LITERAL"
>真</TT
>を返します。しかし、少なくとも一つの列に対し権限の列階層許可があれば、<CODE
CLASS="FUNCTION"
>has_any_column_privilege</CODE
>も成功します。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>has_column_privilege</CODE
>はあるユーザが特定の方法でテーブルのある列にもアクセス可能かどうかを検査します。
    可能な引数は、列が追加的に名前または属性番号のいずれかで指定される点を加えれば、<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>と類似しています。目的と知るアクセス権限型は、<TT
CLASS="LITERAL"
>SELECT</TT
>、<TT
CLASS="LITERAL"
>INSERT</TT
>、<TT
CLASS="LITERAL"
>UPDATE</TT
>、または<TT
CLASS="LITERAL"
>REFERENCES</TT
>のいくつかの組み合わせで評価されなければなりません。テーブル階層におけるこれらの権限を所有することは、テーブルのそれぞれの列に対し暗黙的にそれら権限を与えることに注意してください。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>has_database_privilege</CODE
>関数は、あるユーザが特定の方法でデータベースにアクセス可能かどうかを検査します。
    可能な引数は、<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>に類似しています。対象とするアクセス権限の種類は、<TT
CLASS="LITERAL"
>CREATE</TT
>、<TT
CLASS="LITERAL"
>CONNECT</TT
>、<TT
CLASS="LITERAL"
>TEMPORARY</TT
>、または<TT
CLASS="LITERAL"
>TEMP</TT
>（<TT
CLASS="LITERAL"
>TEMPORARY</TT
>と同じ）のいくつかの組み合わせで評価する必要があります。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>has_function_privilege</CODE
>関数は、あるユーザが特定の方法で関数にアクセス可能かどうかを検査します。
    引数として取り得るものは<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>と同じです。関数をOIDではなくテキスト文字列で指定した場合、<TT
CLASS="TYPE"
>regprocedure</TT
> データ型（<A
HREF="datatype-oid.html"
>&#38917;8.16</A
>を参照）と同じ入力が可能です。対象とするアクセス権限の種類は、現在<TT
CLASS="LITERAL"
>EXECUTE</TT
>で評価する必要があります。以下に例を示します。
</P><PRE
CLASS="PROGRAMLISTING"
>SELECT has_function_privilege('joeuser', 'myfunc(int, text)', 'execute');</PRE
><P>
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>has_foreign_data_wrapper_privilege</CODE
>関数は、あるユーザが特定の方法で外部データラッパーにアクセス可能かどうかを検査します。
    引数として取り得るものは<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>と同じです。対象とするアクセス権限の種類は<TT
CLASS="LITERAL"
>USAGE</TT
>で評価する必要があります。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>has_language_privilege</CODE
>関数は、あるユーザが特定の方法で手続き言語にアクセス可能かどうかを検査します。
    可能な引数は、<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>に類似しています。対象とするアクセス権限の種類は、現在<TT
CLASS="LITERAL"
>USAGE</TT
>で評価する必要があります
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>has_schema_privilege</CODE
>関数は、あるユーザが特定の方法でスキーマにアクセス可能かどうかを検査します。
    可能な引数は、<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>に類似しています。対象とするアクセス権限の種類は、<TT
CLASS="LITERAL"
>CREATE</TT
>もしくは<TT
CLASS="LITERAL"
>USAGE</TT
>の何らかの組み合わせで評価する必要があります。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>has_server_privilege</CODE
>はユーザが特定の方法で外部サーバにアクセスできるかどうかを検査します。
    可能な引数は<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>に類似しています。対象とするアクセス権限は<TT
CLASS="LITERAL"
>USAGE</TT
>で評価する必要があります。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>has_tablespace_privilege</CODE
>関数は、あるユーザが特定の方法でテーブル空間にアクセス可能かどうかを検査します。
    可能な引数は、<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>に類似しています。対象とするアクセス権限の種類は、<TT
CLASS="LITERAL"
>CREATE</TT
>で評価する必要があります。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>pg_has_role</CODE
>は、ユーザが特定の方法でロールにアクセスできるかどうかを検査します。
    取り得る引数については、<TT
CLASS="LITERAL"
>public</TT
>がユーザ名として使用不可であることを除き、<CODE
CLASS="FUNCTION"
>has_table_privilege</CODE
>と類似しています。対象とするアクセス権限の種類は、 <TT
CLASS="LITERAL"
>MEMBER</TT
>、<TT
CLASS="LITERAL"
>USAGE</TT
>の組み合わせで評価する必要があります。<TT
CLASS="LITERAL"
>MEMBER</TT
>は、ロールの直接または間接メンバ資格（つまり、<TT
CLASS="COMMAND"
>SET ROLE</TT
>を行う権限）を表します。一方、<TT
CLASS="LITERAL"
>USAGE</TT
>は、そのロール権限が<TT
CLASS="COMMAND"
>SET ROLE</TT
>をしなくてもすぐに利用できることを表します。
   </P
><P
>  
   <A
HREF="functions-info.html#FUNCTIONS-INFO-SCHEMA-TABLE"
>&#34920;9-49</A
>に、特定のオブジェクトが、現行スキーマの検索パスにおいて<I
CLASS="FIRSTTERM"
>可視</I
>かどうかを判別する関数を示します。例えば、あるテーブルを含むスキーマが検索パス内に存在し、検索パス内の前方に同じ名前のテーブルがない場合、そのテーブルは可視であると言います。つまり、これは、テーブルが明示的なスキーマ修飾なしで名前によって参照可能であるということです。全ての可視テーブルの名前を列挙するには以下のようにします。
</P><PRE
CLASS="PROGRAMLISTING"
>SELECT relname FROM pg_class WHERE pg_table_is_visible(oid);</PRE
><P>
  </P
><DIV
CLASS="TABLE"
><A
NAME="FUNCTIONS-INFO-SCHEMA-TABLE"
></A
><P
><B
>&#34920; 9-49. スキーマ可視性照会関数</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><THEAD
><TR
><TH
>名前</TH
><TH
>戻り型</TH
><TH
>説明</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_collation_is_visible(<TT
CLASS="PARAMETER"
>collation_oid</TT
>)</CODE
></TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>照合順序が検索パスにおいて可視かどうか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_conversion_is_visible(<TT
CLASS="PARAMETER"
>conversion_oid</TT
>)</CODE
></TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>変換が検索パスにおいて可視かどうか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_function_is_visible(<TT
CLASS="PARAMETER"
>function_oid</TT
>)</CODE
></TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>関数が検索パスにおいて可視であるか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_opclass_is_visible(<TT
CLASS="PARAMETER"
>opclass_oid</TT
>)</CODE
></TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>演算子クラスが検索パスにおいて可視であるか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_operator_is_visible(<TT
CLASS="PARAMETER"
>operator_oid</TT
>)</CODE
></TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>演算子が検索パスにおいて可視であるか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_table_is_visible(<TT
CLASS="PARAMETER"
>table_oid</TT
>)</CODE
></TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>テーブルが検索パスにおいて可視かどうか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_ts_config_is_visible(<TT
CLASS="PARAMETER"
>config_oid</TT
>)</CODE
></TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>テキスト検索設定が検索パスにおいて可視かどうか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_ts_dict_is_visible(<TT
CLASS="PARAMETER"
>dict_oid</TT
>)</CODE
></TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>テキスト検索辞書が検索パスにおいて可視かどうか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_ts_parser_is_visible(<TT
CLASS="PARAMETER"
>parser_oid</TT
>)</CODE
></TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>テキスト検索パーサが検索パスにおいて可視かどうか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_ts_template_is_visible(<TT
CLASS="PARAMETER"
>template_oid</TT
>)</CODE
></TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>テキスト検索テンプレートが検索パスにおいて可視かどうか</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_type_is_visible(<TT
CLASS="PARAMETER"
>type_oid</TT
>)</CODE
></TT
>
       </TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>型（またはドメイン）が検索パスにおいて可視かどうか</TD
></TR
></TBODY
></TABLE
></DIV
><P
>   
    それぞれの関数はデータベースオブジェクトの１つの型に対して可視性の検査を行います。<CODE
CLASS="FUNCTION"
>pg_table_is_visible</CODE
>がビュー、インデックス、シーケンスに対しても使用できること、<CODE
CLASS="FUNCTION"
>pg_type_is_visible</CODE
>がドメインに対しても使用できることに注意してください。関数および演算子では、パスの前方に同じ名前かつ同じ<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>引数のデータ型</I
></SPAN
>を持つオブジェクトが存在しなければ、検索パス内のオブジェクトは可視です。演算子クラスでは、名前と関連するインデックスアクセスメソッドが考慮されます。
   </P
><P
>   
    これらの関数は全て、検査するオブジェクトを識別するために、オブジェクトのOIDを必要とします。オブジェクトを名前でテストする場合、OID別名型（<TT
CLASS="TYPE"
>regclass</TT
>、<TT
CLASS="TYPE"
>regtype</TT
>、<TT
CLASS="TYPE"
>regprocedure</TT
>、<TT
CLASS="TYPE"
>regoperator</TT
>、<TT
CLASS="TYPE"
>regconfig</TT
>、または<TT
CLASS="TYPE"
>regdictionary</TT
>）を使用すると便利です。例えば、以下のようにします。
</P><PRE
CLASS="PROGRAMLISTING"
>SELECT pg_type_is_visible('myschema.widget'::regtype);</PRE
><P>
    ただし、このようなやり方でスキーマ修飾されていない型名をテストしても、あまり意味がないことに注意してください。名前が認識されれば、それは必ず可視ということになります。
   </P
><P
>  
   <A
HREF="functions-info.html#FUNCTIONS-INFO-CATALOG-TABLE"
>&#34920;9-50</A
>に、システムカタログから情報を抽出する関数を列挙します。
  </P
><DIV
CLASS="TABLE"
><A
NAME="FUNCTIONS-INFO-CATALOG-TABLE"
></A
><P
><B
>&#34920; 9-50. システムカタログ情報関数</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><THEAD
><TR
><TH
>名前</TH
><TH
>戻り型</TH
><TH
>説明</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>format_type(<TT
CLASS="PARAMETER"
>type_oid</TT
>, <TT
CLASS="PARAMETER"
>typemod</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>データ型のSQL名の取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_describe_object(<TT
CLASS="PARAMETER"
>catalog_id</TT
>, <TT
CLASS="PARAMETER"
>object_id</TT
>, <TT
CLASS="PARAMETER"
>object_sub_id</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>データベースオブジェクトの説明の取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_constraintdef(<TT
CLASS="PARAMETER"
>constraint_oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>制約の定義を取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_constraintdef(<TT
CLASS="PARAMETER"
>constraint_oid</TT
>, <TT
CLASS="PARAMETER"
>pretty_bool</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>制約の定義を取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_expr(<TT
CLASS="PARAMETER"
>pg_node_tree</TT
>, <TT
CLASS="PARAMETER"
>relation_oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>式中のいかなるVarも、２番目のパラメータによって指定されるリレーションを参照すると仮定して、式の内部形式を逆コンパイル</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_expr(<TT
CLASS="PARAMETER"
>pg_node_tree</TT
>, <TT
CLASS="PARAMETER"
>relation_oid</TT
>, <TT
CLASS="PARAMETER"
>pretty_bool</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>式中のいかなるVarも、２番目のパラメータによって指定されるリレーションを参照すると仮定して、式の内部形式を逆コンパイル</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_functiondef(<TT
CLASS="PARAMETER"
>func_oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>関数定義の取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_function_arguments(<TT
CLASS="PARAMETER"
>func_oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>関数定義（デフォルト値付き）の引数リストを取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_function_identity_arguments(<TT
CLASS="PARAMETER"
>func_oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>関数（デフォルト値の付いていない）特定の引数リストを取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_function_result(<TT
CLASS="PARAMETER"
>func_oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>関数に対する<TT
CLASS="LITERAL"
>RETURNS</TT
>句の取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_indexdef(<TT
CLASS="PARAMETER"
>index_oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>インデックスに対する<TT
CLASS="COMMAND"
>CREATE INDEX</TT
>コマンドの取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_indexdef(<TT
CLASS="PARAMETER"
>index_oid</TT
>, <TT
CLASS="PARAMETER"
>column_no</TT
>, <TT
CLASS="PARAMETER"
>pretty_bool</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>インデックスに対する<TT
CLASS="COMMAND"
>CREATE INDEX</TT
>コマンドの取得、または<TT
CLASS="PARAMETER"
>column_no</TT
>が非ゼロの場合は、１つのインデックス列のみの定義の取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_keywords()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>setof record</TT
></TD
><TD
>SQLキーワードとそれらの種類のリストを取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_ruledef(<TT
CLASS="PARAMETER"
>rule_oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>ルールに対する<TT
CLASS="COMMAND"
>CREATE RULE</TT
>コマンドを取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_ruledef(<TT
CLASS="PARAMETER"
>rule_oid</TT
>, <TT
CLASS="PARAMETER"
>pretty_bool</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>ルールに対する<TT
CLASS="COMMAND"
>CREATE RULE</TT
>コマンドを取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_serial_sequence(<TT
CLASS="PARAMETER"
>table_name</TT
>, <TT
CLASS="PARAMETER"
>column_name</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
><TT
CLASS="TYPE"
>serial</TT
>または<TT
CLASS="TYPE"
>bigserial</TT
>列が使用するシーケンス名の取得</TD
></TR
><TR
><TD
><CODE
CLASS="FUNCTION"
>pg_get_triggerdef</CODE
>(<TT
CLASS="PARAMETER"
>trigger_oid</TT
>)</TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>トリガに対する<TT
CLASS="COMMAND"
>CREATE [ CONSTRAINT ] TRIGGER</TT
>コマンドの取得</TD
></TR
><TR
><TD
><CODE
CLASS="FUNCTION"
>pg_get_triggerdef</CODE
>(<TT
CLASS="PARAMETER"
>trigger_oid</TT
>, <TT
CLASS="PARAMETER"
>pretty_bool</TT
>)</TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>トリガに対する<TT
CLASS="COMMAND"
>CREATE [ CONSTRAINT ] TRIGGER</TT
>コマンドの取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_userbyid(<TT
CLASS="PARAMETER"
>role_oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>name</TT
></TD
><TD
>与えられたOIDでロール名を取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_viewdef(<TT
CLASS="PARAMETER"
>view_name</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>ビューに対する現在の<TT
CLASS="COMMAND"
>SELECT</TT
>コマンドを取得（<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>廃止予定</I
></SPAN
>）</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_viewdef(<TT
CLASS="PARAMETER"
>view_name</TT
>, <TT
CLASS="PARAMETER"
>pretty_bool</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>ビューに対する現在の<TT
CLASS="COMMAND"
>SELECT</TT
>コマンドを取得（<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>廃止予定</I
></SPAN
>）</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_viewdef(<TT
CLASS="PARAMETER"
>view_oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>ビューに対する現在の<TT
CLASS="COMMAND"
>SELECT</TT
>コマンドを取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_get_viewdef(<TT
CLASS="PARAMETER"
>view_oid</TT
>, <TT
CLASS="PARAMETER"
>pretty_bool</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>ビューに対する現在の<TT
CLASS="COMMAND"
>SELECT</TT
>コマンドを取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_options_to_table(<TT
CLASS="PARAMETER"
>reloptions</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>setof record</TT
></TD
><TD
>格納オプションの名前/値のペアのセットを取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_tablespace_databases(<TT
CLASS="PARAMETER"
>tablespace_oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>setof oid</TT
></TD
><TD
>テーブル空間内にオブジェクトを所有するデータベースOID集合を取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>pg_typeof(<TT
CLASS="PARAMETER"
>any</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>regtype</TT
></TD
><TD
>指定した値のデータ型を取得</TD
></TR
></TBODY
></TABLE
></DIV
><P
>  
   関数<CODE
CLASS="FUNCTION"
>format_type</CODE
>は、自身の型OIDと場合により型修飾子によって特定されるデータ型のSQL名を返します。特定の修飾子が既知でなければ型修飾子にNULLを渡します。
  </P
><P
>  
   関数<CODE
CLASS="FUNCTION"
>pg_get_keywords</CODE
>は、サーバが認識したSQLキーワードを記述するレコード一式を返します。<TT
CLASS="STRUCTFIELD"
>word</TT
>列にはキーワードが含まれます。<TT
CLASS="STRUCTFIELD"
>catcode</TT
>列は種類コードを含みます。それらは、予約されていないを表わす<TT
CLASS="LITERAL"
>U</TT
>、列名の<TT
CLASS="LITERAL"
>C</TT
>、関数名型の<TT
CLASS="LITERAL"
>T</TT
>、または予約語であることの<TT
CLASS="LITERAL"
>R</TT
>、のいずれかです。<TT
CLASS="STRUCTFIELD"
>catdesc</TT
>列は種類を記述する現地語化された可能性のある文字列を含みます。
  </P
><P
>  
   <CODE
CLASS="FUNCTION"
>pg_get_constraintdef</CODE
>、
   <CODE
CLASS="FUNCTION"
>pg_get_indexdef</CODE
>、<CODE
CLASS="FUNCTION"
>pg_get_ruledef</CODE
>、
   および <CODE
CLASS="FUNCTION"
>pg_get_triggerdef</CODE
>それぞれは、対応する制約、インデックス、ルール、もしくはトリガに対するコマンド作成を再構築します。（これはコマンドのオリジナルテキストではなく、逆コンパイルされた再構築であることに注意してください。）<CODE
CLASS="FUNCTION"
>pg_get_expr</CODE
>は、列のデフォルト値のような個々の式の内部形式を逆コンパイルします。システムカタログの内容を試験するときに便利です。 
   もしも式がVarを含んでいるとすれば、２番目のパラメータとして参照する関連（リレーション）のOIDを指定します。もしVarがないと期待されればゼロで充分です。
   <CODE
CLASS="FUNCTION"
>pg_get_viewdef</CODE
> はビューを定義する<TT
CLASS="COMMAND"
>SELECT</TT
>問い合わせを再構築します。これらの関数のほとんどは２つの異形があり、そのうちの１つはオプションとして結果を<SPAN
CLASS="QUOTE"
>"pretty print"</SPAN
>（訳注：<SPAN
CLASS="QUOTE"
>"見やすく表示"</SPAN
>）します。pretty printされた書式はより読みやすい半面、デフォルトの書式の方が今後のバージョンの<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>でも同様に解釈することができそうです。ダンプを目的とする場合は、見やすく表示する出力を使用しないでください。見やすい表示用のパラメータに<TT
CLASS="LITERAL"
>false</TT
>を渡すことで、このパラメータをまったく持たない種類の結果と同一の結果を生成します
  </P
><P
>  
   <CODE
CLASS="FUNCTION"
>pg_get_functiondef</CODE
>は、ある関数の<TT
CLASS="COMMAND"
>CREATE OR REPLACE FUNCTION</TT
>文全てを返します。<CODE
CLASS="FUNCTION"
>pg_get_function_arguments</CODE
>は、<TT
CLASS="COMMAND"
>CREATE FUNCTION</TT
>の中に出現しなければならない形式で、引数リストを返します。<CODE
CLASS="FUNCTION"
>pg_get_function_result</CODE
>は同様、その関数の適切な<TT
CLASS="LITERAL"
>RETURNS</TT
>句を返します。<CODE
CLASS="FUNCTION"
>pg_get_function_identity_arguments</CODE
>は、インスタンスに対し、<TT
CLASS="COMMAND"
>ALTER FUNCTION</TT
>の中に出現しなければならない形式で、ある関数を特定するのに必要な引数リストを返します。この形式はデフォルト値を省略します。
  </P
><P
>  
   <CODE
CLASS="FUNCTION"
>pg_get_serial_sequence</CODE
>は、列に関連したシーケンスの名前を返します。もし、列に関連したシーケンスが存在しなければ、NULLを返します。最初の入力パラメータはテーブル名です。スキーマを付けることもできます。２番目のパラメータは列名です。最初のパラメータは普通スキーマとテーブルですので、二重引用符付の識別子としては解釈されません。つまり、デフォルトで小文字に変換されます。一方２番目のパラメータは単なる列名であり、二重引用符付として解釈され、その大文字小文字は保持されます。この関数は、シーケンス関数に渡すことができるよう適切な書式で値を返します（<A
HREF="functions-sequence.html"
>&#38917;9.15</A
>を参照）。この関連付けは<TT
CLASS="COMMAND"
>ALTER SEQUENCE OWNED BY</TT
>により変更、削除することができます。（この関数はおそらく<CODE
CLASS="FUNCTION"
>pg_get_owned_sequence</CODE
>から呼び出されるはずです。その現在の名前は、<TT
CLASS="TYPE"
>serial</TT
>や <TT
CLASS="TYPE"
>bigserial</TT
>列で実際に入力されたものが反映されます。）
  </P
><P
>  
   <CODE
CLASS="FUNCTION"
>pg_get_userbyid</CODE
>はそのOIDで与えられたロールの名前を抽出します。
  </P
><P
>   
   <CODE
CLASS="FUNCTION"
>pg_options_to_table</CODE
>は<TT
CLASS="STRUCTNAME"
>pg_class</TT
>.<TT
CLASS="STRUCTFIELD"
>reloptions</TT
>か<TT
CLASS="STRUCTNAME"
>pg_attribute</TT
>.<TT
CLASS="STRUCTFIELD"
>attoptions</TT
>へ格納オプションが設定されている場合に
   そのペア(<TT
CLASS="LITERAL"
>option_name</TT
>/<TT
CLASS="LITERAL"
>option_value</TT
>)を返します。
  </P
><P
>   
   <CODE
CLASS="FUNCTION"
>pg_tablespace_databases</CODE
>によりテーブル空間の使用状況を確認することができます。これは、そのテーブル空間内に格納されたオブジェクトを持つデータベースのOIDの集合を返します。この関数が何らかの行を返した場合、このテーブル空間は空ではなく、そのため、削除することができません。テーブル空間内に格納された特定のオブジェクトを表示するためには、<CODE
CLASS="FUNCTION"
>pg_tablespace_databases</CODE
>で識別されたデータベースに接続し、その<TT
CLASS="STRUCTNAME"
>pg_class</TT
>カタログに問い合わせを行う必要があります。
  </P
><P
>   
   <CODE
CLASS="FUNCTION"
>pg_describe_object</CODE
>はカタログOID、オブジェクトOID、もしくは(おそらく0の)サブオブジェクトOIDで指定されたデータベースオブジェクトの説明を返します。
   これは<TT
CLASS="STRUCTNAME"
>pg_depend</TT
>カタログに格納されたオブジェクトの識別判断の際に有用です。
  </P
><P
>   
   <CODE
CLASS="FUNCTION"
>pg_typeof</CODE
>は、OIDに渡される値のデータ型のOIDを返します。これはトラブル解決作業、または動的にSQL問い合わせを生成するのに便利です。この関数は、OID型の別名である<TT
CLASS="TYPE"
>regtype</TT
>を返すものとして宣言されます（<A
HREF="datatype-oid.html"
>&#38917;8.16</A
>を参照）。つまり、比較目的でのOIDと同一ですが、型名として表示されます。以下に例をあげます。
</P><PRE
CLASS="PROGRAMLISTING"
>SELECT pg_typeof(33);

 pg_typeof 
-----------
 integer
(1 row)

SELECT typlen FROM pg_type WHERE oid = pg_typeof(33);
 typlen 
--------
      4
(1 row)</PRE
><P>
  </P
><P
>   
    <A
HREF="functions-info.html#FUNCTIONS-INFO-COMMENT-TABLE"
>&#34920;9-51</A
>に示される関数は、<A
HREF="sql-comment.html"
>COMMENT</A
>コマンドによって以前に保存されたコメントを抽出します。指定されたパラメータに対するコメントが存在しない場合、NULL値が返されます。
   </P
><DIV
CLASS="TABLE"
><A
NAME="FUNCTIONS-INFO-COMMENT-TABLE"
></A
><P
><B
>&#34920; 9-51. コメント情報関数</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><THEAD
><TR
><TH
>名前</TH
><TH
>戻り型</TH
><TH
>説明</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>col_description(<TT
CLASS="PARAMETER"
>table_oid</TT
>, <TT
CLASS="PARAMETER"
>column_number</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>テーブル列のコメントを取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>obj_description(<TT
CLASS="PARAMETER"
>object_oid</TT
>, <TT
CLASS="PARAMETER"
>catalog_name</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>データベースオブジェクトのコメントを取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>obj_description(<TT
CLASS="PARAMETER"
>object_oid</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>データベースオブジェクトのコメントを取得（<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>廃止予定</I
></SPAN
>）</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>shobj_description(<TT
CLASS="PARAMETER"
>object_oid</TT
>, <TT
CLASS="PARAMETER"
>catalog_name</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>text</TT
></TD
><TD
>共有データベースオブジェクトのコメントを取得</TD
></TR
></TBODY
></TABLE
></DIV
><P
>    
    <CODE
CLASS="FUNCTION"
>col_description()</CODE
>関数は、テーブルのOIDとその列番号で指定されるテーブルの列のコメントを返します。<CODE
CLASS="FUNCTION"
>obj_description()</CODE
>関数は、テーブル列自体がOIDを所有していませんので、テーブル列に対して使用することはできません。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>obj_description()</CODE
>関数の２つのパラメータを取る形式はそのOIDと保有しているシステムカタログの名前で指定されたデータベースオブジェクトのコメントを返します。例えば、<TT
CLASS="LITERAL"
>obj_description(123456,'pg_class')</TT
>はOID 123456を持つテーブルのコメントを抽出します。<CODE
CLASS="FUNCTION"
>obj_description()</CODE
>関数の単一パラメータ形式はオブジェクトのOIDのみ必要とします。異なったシステムカタログに渡ってOIDが一意である保証はないことから廃止予定です。従って、間違ったコメントが返ることがあります。
   </P
><P
>   
    <CODE
CLASS="FUNCTION"
>shobj_description</CODE
>は、共有オブジェクトのコメント取得のために使用されることを除いて、<CODE
CLASS="FUNCTION"
>obj_description</CODE
>と同じように使用されます。一部のシステムカタログは、各クラスタ内のデータベース全体に対して大域的です。これらのコメントも同様に大域的に格納されます。
   </P
><P
>   
    <A
HREF="functions-info.html#FUNCTIONS-TXID-SNAPSHOT"
>&#34920;9-52</A
>で示される関数はサーバトランザクション情報をエクスポートできる形式で提供します。これら関数の主な使用目的は２つのスナップショット間でどちらのトランザクションがコミットされたのかを特定するためです。
   </P
><DIV
CLASS="TABLE"
><A
NAME="FUNCTIONS-TXID-SNAPSHOT"
></A
><P
><B
>&#34920; 9-52. トランザクションIDとスナップショット</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><THEAD
><TR
><TH
>名前</TH
><TH
>戻り型</TH
><TH
>説明</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>txid_current()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>bigint</TT
></TD
><TD
>現在のトランザクションIDの取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>txid_current_snapshot()</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>txid_snapshot</TT
></TD
><TD
>現在のスナップショットの取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>txid_snapshot_xip(<TT
CLASS="PARAMETER"
>txid_snapshot</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>setof bigint</TT
></TD
><TD
>スナップショットにある進行中のトランザクションIDの取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>txid_snapshot_xmax(<TT
CLASS="PARAMETER"
>txid_snapshot</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>bigint</TT
></TD
><TD
>スナップショットの<TT
CLASS="LITERAL"
>xmax</TT
>の取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>txid_snapshot_xmin(<TT
CLASS="PARAMETER"
>txid_snapshot</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>bigint</TT
></TD
><TD
>スナップショットの<TT
CLASS="LITERAL"
>xmin</TT
>の取得</TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
><CODE
CLASS="FUNCTION"
>txid_visible_in_snapshot(<TT
CLASS="PARAMETER"
>bigint</TT
>, <TT
CLASS="PARAMETER"
>txid_snapshot</TT
>)</CODE
></TT
></TD
><TD
><TT
CLASS="TYPE"
>boolean</TT
></TD
><TD
>スナップショットにあるトランザクションIDは可視か？（サブトランザクションIDと一緒に使用しないこと）</TD
></TR
></TBODY
></TABLE
></DIV
><P
>   
    内部トランザクションID型（<TT
CLASS="TYPE"
>xid</TT
>）は32ビット幅あるので４０億トランザクション毎ラップします。とは言っても、これらの関数は<SPAN
CLASS="QUOTE"
>"epoch"</SPAN
>カウンタにより64ビット形式にエクスポートするため、インストレーションの生涯にわたってラップしません。これらの関数で使用されるデータ型、<TT
CLASS="TYPE"
>txid_snapshot</TT
>はある時間特有時のトランザクションIDの可視化に関する情報を格納します。構成要素は<A
HREF="functions-info.html#FUNCTIONS-TXID-SNAPSHOT-PARTS"
>&#34920;9-53</A
>に記載されています。
   </P
><DIV
CLASS="TABLE"
><A
NAME="FUNCTIONS-TXID-SNAPSHOT-PARTS"
></A
><P
><B
>&#34920; 9-53. スナップショット構成要素</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><THEAD
><TR
><TH
>名前</TH
><TH
>説明</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="TYPE"
>xmin</TT
></TD
><TD
>       
	 いまだ使用中の最先として出現したトランザクションID（txid）。全ての最も早期のトランザクションはコミットされ、可視化となるか、またはロールバックされ消滅するのいずれか。
       </TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>xmax</TT
></TD
><TD
>       
	最初のまだ割り当てられていないtxid。これと等しいかより大きい全てのtxidはスナップショットの時点で未開始。従って不可視。
       </TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>xip_list</TT
></TD
><TD
>       
	スナップショット時の使用中のtxid。リストは<TT
CLASS="LITERAL"
>xmin</TT
>と<TT
CLASS="LITERAL"
>xmax</TT
>間にのみ使用中のtxidを含む。<TT
CLASS="LITERAL"
>xmax</TT
>より高位の使用中のtxidが存在することもある。
	<TT
CLASS="LITERAL"
>xmin &lt;= txid &lt; xmax</TT
>であり、このリストにないtxidはスナップショット時に既に完了している。従い、コミット状態で可視か消滅かのいづれか。リストには副トランザクションのtxidは含まれない。
       </TD
></TR
></TBODY
></TABLE
></DIV
><P
>   
    <TT
CLASS="TYPE"
>txid_snapshot</TT
>のテキスト表現は<TT
CLASS="LITERAL"
><TT
CLASS="REPLACEABLE"
><I
>xmin</I
></TT
>:<TT
CLASS="REPLACEABLE"
><I
>xmax</I
></TT
>:<TT
CLASS="REPLACEABLE"
><I
>xip_list</I
></TT
></TT
>。例えば、<TT
CLASS="LITERAL"
>10:20:10,14,15</TT
>は<TT
CLASS="LITERAL"
>xmin=10, xmax=20, xip_list=10, 14, 15</TT
>を指す。
   </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="functions-srf.html"
ACCESSKEY="P"
>&#21069;&#12398;&#12506;&#12540;&#12472;</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>&#12507;&#12540;&#12512;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="functions-admin.html"
ACCESSKEY="N"
>&#27425;&#12398;&#12506;&#12540;&#12472;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>集合を返す関数</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="functions.html"
ACCESSKEY="U"
>&#19978;&#12395;&#25147;&#12427;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>システム管理関数</TD
></TR
></TABLE
></DIV
></BODY
></HTML
></div>
