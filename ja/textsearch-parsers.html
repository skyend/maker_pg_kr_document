<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>パーサ</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version "><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.1.4文書"
HREF="index.html"><LINK
REL="UP"
TITLE="全文検索"
HREF="textsearch.html"><LINK
REL="PREVIOUS"
TITLE="追加機能"
HREF="textsearch-features.html"><LINK
REL="NEXT"
TITLE="辞書"
HREF="textsearch-dictionaries.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=euc-jp"><META
NAME="creation"
CONTENT="2012-06-16T03:12:10"></HEAD
><BODY
CLASS="SECT1"
><script type="text/javascript">
var mod_layout = 'test';
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-50659-6");
pageTracker._trackPageview();
</script>
<style>
body{margin:0;}
#lay_body{margin:8px;}
#lay_header{margin:0 0 4px 0;border:0;padding:0;}
#lay_header .b1{border-bottom:#cef solid 1px;}
#lay_header .b2{border-bottom:#8df solid 1px;}
#lay_header .b3{border-bottom:#4bf solid 1px;padding:5px 5px 3px 5px;background:#0af;text-align:center;color:#fff;}
#lay_header a{text-decoration:none;color:#fff;font-weight:bold;}
#lay_header a:hover{text-decoration:underline;}
</style>
<div id="lay_header"><div class="b1"><div class="b2"><div class="b3">
<a href="http://lets.postgresql.jp/" target="_blank">PostgreSQLポータルサイト ＜Let's Postgres＞ http://lets.postgresql.jp/</a><br>
入門から運用、チューニングノウハウ、新機能の解説など、幅広い内容の技術解説記事をお読みいただけます。
</div></div></div></div>
<div id="lay_body">
<DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.1.4文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="追加機能"
HREF="textsearch-features.html"
ACCESSKEY="P"
>&#21069;&#12398;&#12506;&#12540;&#12472;</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="全文検索"
HREF="textsearch.html"
>&#24059;&#25147;&#12375;</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>&#31532; 12&#31456;全文検索</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
TITLE="全文検索"
HREF="textsearch.html"
>&#26089;&#36865;&#12426;</A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
TITLE="辞書"
HREF="textsearch-dictionaries.html"
ACCESSKEY="N"
>&#27425;&#12398;&#12506;&#12540;&#12472;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="TEXTSEARCH-PARSERS"
>12.5. パーサ</A
></H1
><P
>  テキスト検索パーサは、もとの文書テキストを分割して<I
CLASS="FIRSTTERM"
>トークン</I
>に変換し、それぞれのトークンの型を識別子する役割を持っています。ここで、可能な型の集合は、パーサ自身が定義します。パーサは文書をまったく変更しないことに注意してください &mdash; それは、単に可能な単語の境界を識別するだけです。このような制限があるため、カスタム辞書を作るのに比べ、用途限定のカスタムパーサを作る必要性は少ないです。今のところ、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>はたった一つの組み込みパーサを提供しています。これは広い範囲の用途に対して有用であると考えられています。
  </P
><P
>  組み込みのパーサは<TT
CLASS="LITERAL"
>pg_catalog.default</TT
>というものです。<A
HREF="textsearch-parsers.html#TEXTSEARCH-DEFAULT-PARSER"
>&#34920;12-1</A
>に示す23のトークンを理解します。
  </P
><DIV
CLASS="TABLE"
><A
NAME="TEXTSEARCH-DEFAULT-PARSER"
></A
><P
><B
>&#34920; 12-1. Default Parser's Token Types</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><THEAD
><TR
><TH
>別名</TH
><TH
>説明</TH
><TH
>例</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="LITERAL"
>asciiword</TT
></TD
><TD
>単語、すべてのASCII文字</TD
><TD
><TT
CLASS="LITERAL"
>elephant</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>word</TT
></TD
><TD
>単語、すべての文字</TD
><TD
><TT
CLASS="LITERAL"
>ma&ntilde;ana</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>numword</TT
></TD
><TD
>単語、文字、数字</TD
><TD
><TT
CLASS="LITERAL"
>beta1</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>asciihword</TT
></TD
><TD
>ハイフンでつながれた単語、すべてのASCII</TD
><TD
><TT
CLASS="LITERAL"
>up-to-date</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>hword</TT
></TD
><TD
>ハイフンでつながれた単語、すべての文字</TD
><TD
><TT
CLASS="LITERAL"
>l&oacute;gico-matem&aacute;tica</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>numhword</TT
></TD
><TD
>ハイフンでつながれた単語、すべての文字、数字</TD
><TD
><TT
CLASS="LITERAL"
>postgresql-beta1</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>hword_asciipart</TT
></TD
><TD
>ハイフンでつながれた単語の一部、すべての ASCII</TD
><TD
><TT
CLASS="LITERAL"
>postgresql-beta1</TT
>の<TT
CLASS="LITERAL"
>postgresql</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>hword_part</TT
></TD
><TD
>ハイフンでつながれた単語の一部、すべての文字</TD
><TD
><TT
CLASS="LITERAL"
>l&oacute;gico-matem&aacute;tica</TT
>の<TT
CLASS="LITERAL"
>l&oacute;gico</TT
>または<TT
CLASS="LITERAL"
>matem&aacute;tica</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>hword_numpart</TT
></TD
><TD
>ハイフンでつながれた単語の文字+数字の部分</TD
><TD
><TT
CLASS="LITERAL"
>postgresql-beta1</TT
>の<TT
CLASS="LITERAL"
>beta1</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>email</TT
></TD
><TD
>電子メールアドレス</TD
><TD
><TT
CLASS="LITERAL"
>foo@example.com</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>protocol</TT
></TD
><TD
>プロトコルヘッダー</TD
><TD
><TT
CLASS="LITERAL"
>http://</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>url</TT
></TD
><TD
>URL</TD
><TD
><TT
CLASS="LITERAL"
>example.com/stuff/index.html</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>host</TT
></TD
><TD
>ホスト名</TD
><TD
><TT
CLASS="LITERAL"
>example.com</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>url_path</TT
></TD
><TD
>URL中のパス名</TD
><TD
>URL中の<TT
CLASS="LITERAL"
>/stuff/index.html</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>file</TT
></TD
><TD
>ファイルまたはパス名</TD
><TD
>URL中でない<TT
CLASS="LITERAL"
>/usr/local/foo.txt</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>sfloat</TT
></TD
><TD
>科学技術表記</TD
><TD
><TT
CLASS="LITERAL"
>-1.234e56</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>float</TT
></TD
><TD
>10進表記</TD
><TD
><TT
CLASS="LITERAL"
>-1.234</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>int</TT
></TD
><TD
>符号付き整数</TD
><TD
><TT
CLASS="LITERAL"
>-1234</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>uint</TT
></TD
><TD
>符号なし整数</TD
><TD
><TT
CLASS="LITERAL"
>1234</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>version</TT
></TD
><TD
>バージョン番号</TD
><TD
><TT
CLASS="LITERAL"
>8.3.0</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>tag</TT
></TD
><TD
>XMLタグ</TD
><TD
><TT
CLASS="LITERAL"
>&lt;a href="dictionaries.html"&gt;</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>entity</TT
></TD
><TD
>XMLエンティティ</TD
><TD
><TT
CLASS="LITERAL"
>&amp;amp;</TT
></TD
></TR
><TR
><TD
><TT
CLASS="LITERAL"
>blank</TT
></TD
><TD
>空白記号</TD
><TD
>(他のものに解釈できない空白または句読点)</TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>&#27880;&#24847;: </B
>   パーサにとっての<SPAN
CLASS="QUOTE"
>"文字"</SPAN
>は、データベースのロケールの設定、特に<TT
CLASS="VARNAME"
>lc_ctype</TT
>によって決まります。基本的なASCIIのみを含む単語は、別のトークン型として報告されます。ときには、それらを他と区別することが有用だからです。ヨーロッパのたいていの言語では、<TT
CLASS="LITERAL"
>word</TT
> と <TT
CLASS="LITERAL"
>asciiword</TT
>は、同じように扱われます。
   </P
><P
>   <TT
CLASS="LITERAL"
>email</TT
>はRFC5322で定義されたすべての有効なメールアドレス文字をサポートしません。メールアドレスのユーザ名としてサポートされる英数字以外の文字はピリオド、ダッシュ、アンダースコアのみです。
   </P
></BLOCKQUOTE
></DIV
><P
>  パーサがテキストの同じ部分から重複したトークンを生成することはあり得ます。たとえば、ハイフン付の単語は、単語全体と、各部分の両方を報告します。例を示します。

</P><PRE
CLASS="SCREEN"
>SELECT alias, description, token FROM ts_debug('foo-bar-beta1');
      alias      |               description                |     token     
-----------------+------------------------------------------+---------------
 numhword        | Hyphenated word, letters and digits      | foo-bar-beta1
 hword_asciipart | Hyphenated word part, all ASCII          | foo
 blank           | Space symbols                            | -
 hword_asciipart | Hyphenated word part, all ASCII          | bar
 blank           | Space symbols                            | -
 hword_numpart   | Hyphenated word part, letters and digits | beta1</PRE
><P>

   この挙動は好ましいのものです。単語全体と、各々の部分の両方に対して検索ができるからです。初歩的な別の例を示します。

</P><PRE
CLASS="SCREEN"
>SELECT alias, description, token FROM ts_debug('http://example.com/stuff/index.html');
  alias   |  description  |            token             
----------+---------------+------------------------------
 protocol | Protocol head | http://
 url      | URL           | example.com/stuff/index.html
 host     | Host          | example.com
 url_path | URL path      | /stuff/index.html</PRE
><P>
  </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="textsearch-features.html"
ACCESSKEY="P"
>&#21069;&#12398;&#12506;&#12540;&#12472;</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>&#12507;&#12540;&#12512;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="textsearch-dictionaries.html"
ACCESSKEY="N"
>&#27425;&#12398;&#12506;&#12540;&#12472;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>追加機能</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="textsearch.html"
ACCESSKEY="U"
>&#19978;&#12395;&#25147;&#12427;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>辞書</TD
></TR
></TABLE
></DIV
></BODY
></HTML
></div>
