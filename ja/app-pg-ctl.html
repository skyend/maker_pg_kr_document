<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>pg_ctl</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version "><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.1.4文書"
HREF="index.html"><LINK
REL="UP"
TITLE="PostgreSQLサーバアプリケーション"
HREF="reference-server.html"><LINK
REL="PREVIOUS"
TITLE="pg_controldata"
HREF="app-pgcontroldata.html"><LINK
REL="NEXT"
TITLE="pg_resetxlog"
HREF="app-pgresetxlog.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=euc-jp"><META
NAME="creation"
CONTENT="2012-06-16T03:12:10"></HEAD
><BODY
CLASS="REFENTRY"
><script type="text/javascript">
var mod_layout = 'test';
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-50659-6");
pageTracker._trackPageview();
</script>
<style>
body{margin:0;}
#lay_body{margin:8px;}
#lay_header{margin:0 0 4px 0;border:0;padding:0;}
#lay_header .b1{border-bottom:#cef solid 1px;}
#lay_header .b2{border-bottom:#8df solid 1px;}
#lay_header .b3{border-bottom:#4bf solid 1px;padding:5px 5px 3px 5px;background:#0af;text-align:center;color:#fff;}
#lay_header a{text-decoration:none;color:#fff;font-weight:bold;}
#lay_header a:hover{text-decoration:underline;}
</style>
<div id="lay_header"><div class="b1"><div class="b2"><div class="b3">
<a href="http://lets.postgresql.jp/" target="_blank">PostgreSQLポータルサイト ＜Let's Postgres＞ http://lets.postgresql.jp/</a><br>
入門から運用、チューニングノウハウ、新機能の解説など、幅広い内容の技術解説記事をお読みいただけます。
</div></div></div></div>
<div id="lay_body">
<DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.1.4文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="pg_controldata"
HREF="app-pgcontroldata.html"
ACCESSKEY="P"
>&#21069;&#12398;&#12506;&#12540;&#12472;</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="pg_controldata"
HREF="app-pgcontroldata.html"
>&#24059;&#25147;&#12375;</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
TITLE="pg_resetxlog"
HREF="app-pgresetxlog.html"
>&#26089;&#36865;&#12426;</A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
TITLE="pg_resetxlog"
HREF="app-pgresetxlog.html"
ACCESSKEY="N"
>&#27425;&#12398;&#12506;&#12540;&#12472;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="APP-PG-CTL"
></A
><SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN82997"
></A
><H2
>&#21517;&#21069;</H2
>pg_ctl&nbsp;--&nbsp;<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>サーバの初期化、起動、停止、制御</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN83003"
></A
><H2
>&#27010;&#35201;</H2
><P
><TT
CLASS="COMMAND"
>pg_ctl</TT
>  init[db]  [-s] [-D <TT
CLASS="REPLACEABLE"
><I
>datadir</I
></TT
>] [-o <TT
CLASS="REPLACEABLE"
><I
>initdb-options</I
></TT
>]</P
><P
><TT
CLASS="COMMAND"
>pg_ctl</TT
>  start  [-w] [-t <TT
CLASS="REPLACEABLE"
><I
>seconds</I
></TT
>] [-s] [-D <TT
CLASS="REPLACEABLE"
><I
>datadir</I
></TT
>] [-l <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
>] [-o <TT
CLASS="REPLACEABLE"
><I
>options</I
></TT
>] [-p <TT
CLASS="REPLACEABLE"
><I
>path</I
></TT
>] [-c]</P
><P
><TT
CLASS="COMMAND"
>pg_ctl</TT
>  stop  [-W] [-t <TT
CLASS="REPLACEABLE"
><I
>seconds</I
></TT
>] [-s] [-D <TT
CLASS="REPLACEABLE"
><I
>datadir</I
></TT
>] [-m
       s[mart] | f[ast] | i[mmediate] 
   ]</P
><P
><TT
CLASS="COMMAND"
>pg_ctl</TT
>  restart  [-w] [-t <TT
CLASS="REPLACEABLE"
><I
>seconds</I
></TT
>] [-s] [-D <TT
CLASS="REPLACEABLE"
><I
>datadir</I
></TT
>] [-c] [-m
       s[mart] | f[ast] | i[mmediate] 
   ] [-o <TT
CLASS="REPLACEABLE"
><I
>options</I
></TT
>]</P
><P
><TT
CLASS="COMMAND"
>pg_ctl</TT
>  reload  [-s] [-D <TT
CLASS="REPLACEABLE"
><I
>datadir</I
></TT
>]</P
><P
><TT
CLASS="COMMAND"
>pg_ctl</TT
>  status  [-D <TT
CLASS="REPLACEABLE"
><I
>datadir</I
></TT
>]</P
><P
><TT
CLASS="COMMAND"
>pg_ctl</TT
>  promote  [-s] [-D <TT
CLASS="REPLACEABLE"
><I
>datadir</I
></TT
>]</P
><P
><TT
CLASS="COMMAND"
>pg_ctl</TT
>  kill   <TT
CLASS="REPLACEABLE"
><I
>signal_name</I
></TT
>   <TT
CLASS="REPLACEABLE"
><I
>process_id</I
></TT
> </P
><P
><TT
CLASS="COMMAND"
>pg_ctl</TT
>  register  [-N <TT
CLASS="REPLACEABLE"
><I
>servicename</I
></TT
>] [-U <TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
>] [-P <TT
CLASS="REPLACEABLE"
><I
>password</I
></TT
>] [-D <TT
CLASS="REPLACEABLE"
><I
>datadir</I
></TT
>] [-S
       a[uto] | d[emand] 
   ] [-w] [-t <TT
CLASS="REPLACEABLE"
><I
>seconds</I
></TT
>] [-s] [-o <TT
CLASS="REPLACEABLE"
><I
>options</I
></TT
>]</P
><P
><TT
CLASS="COMMAND"
>pg_ctl</TT
>  unregister  [-N <TT
CLASS="REPLACEABLE"
><I
>servicename</I
></TT
>]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="APP-PG-CTL-DESCRIPTION"
></A
><H2
>説明</H2
><P
><SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>は<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>データベースクラスタの初期化、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>のデータベースサーバ（<A
HREF="app-postgres.html"
><SPAN
CLASS="APPLICATION"
>postgres</SPAN
></A
>）を起動、停止、再起動する、あるいは稼働中のサーバの状態を表示するためのユーティリティです。
サーバは手動で起動することも可能ですが、<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>は、ログ出力のリダイレクトや、ターミナルとプロセスグループの適切な分離などの作業をカプセル化してくれます。
さらにシャットダウン制御のための便利なオプションも提供します。
  </P
><P
><TT
CLASS="OPTION"
>init</TT
>または<TT
CLASS="OPTION"
>initdb</TT
>モードは新しい<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>データベースクラスタを作成します。
データベースクラスタとは、単一のサーバインスタンスで管理されるデータベースの集合です。
このモードは<TT
CLASS="COMMAND"
>initdb</TT
>コマンドを呼び出します。
<A
HREF="app-initdb.html"
>initdb</A
>を参照して下さい。
  </P
><P
><TT
CLASS="OPTION"
>start</TT
>モードでは、新しいサーバが立ち上がります。
サーバはバックグラウンドで起動され、その標準入力は<TT
CLASS="FILENAME"
>/dev/null</TT
>（Windowsの場合は<TT
CLASS="LITERAL"
>nul</TT
>）に接続されます。
Unix互換のシステムではデフォルトで、サーバの標準出力と標準エラーは<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>の標準出力に転送されます。
<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>の標準出力はファイルにリダイレクトするか、例えば<SPAN
CLASS="APPLICATION"
>rotatelogs</SPAN
>などのログ回転プログラムのような別プロセスにパイプで渡すべきです。 
こうしないと、<TT
CLASS="COMMAND"
>postgres</TT
>はその出力を（バックグランドから）制御端末に書き出しますので、シェルのプロセスグループから切り離すことができません。
Windowsではデフォルトで、サーバの標準出力と標準エラーは端末に送信されます。
こうしたデフォルトの動作は<TT
CLASS="OPTION"
>-l</TT
>を用いてサーバの出力をログファイルに追加するように変更することができます。
<TT
CLASS="OPTION"
>-l</TT
>または出力のリダイレクトのどちらかを使用することを勧めます。
  </P
><P
><TT
CLASS="OPTION"
>stop</TT
>モードは、指定されたデータディレクトリで稼働しているサーバを停止（シャットダウン）します。
<TT
CLASS="OPTION"
>-m</TT
>オプションでは、3つの異なる停止方式を選択できます。
<SPAN
CLASS="QUOTE"
>"Smart"</SPAN
>モード（デフォルト）は、全てのクライアントが切断し、オンラインバックアップがあればそれが終了するまで待ちます。
サーバがホットスタンバイ状態の場合、すべてのクライアント接続が切断された後にリカバリとストリーミングレプリケーションは終了します。
<SPAN
CLASS="QUOTE"
>"Fast"</SPAN
>モードはクライアントが切断するまで待たず、かつ、実行中のオンラインバックアップを終了させます。
全ての実行中のトランザクションをロールバックし、クライアントとの接続を強制的に切断した後、サーバを停止します。
<SPAN
CLASS="QUOTE"
>"Immediate"</SPAN
>モードは、クリーンアップ処理なしで、全てのサーバプロセスを即座に中断します。
これを指定すると、再起動時にクラッシュリカバリ処理が実行されます。
  </P
><P
><TT
CLASS="OPTION"
>restart</TT
>モードは、効果的にサーバを停止して、その後、再起動します。
この時、<TT
CLASS="COMMAND"
>postgres</TT
>コマンドラインオプションを変更することができます。
  </P
><P
><TT
CLASS="OPTION"
>reload</TT
>モードは、単に<TT
CLASS="COMMAND"
>postmaster</TT
>に<SPAN
CLASS="SYSTEMITEM"
>SIGHUP</SPAN
>シグナルを送り、（<TT
CLASS="FILENAME"
>postgresql.conf</TT
>、<TT
CLASS="FILENAME"
>pg_hba.conf</TT
>などの）設定ファイルを再読み込みを実行させます。
これにより、完全な再起動をすることなく、設定ファイルのオプションの変更を反映させることができます。
  </P
><P
><TT
CLASS="OPTION"
>status</TT
>モードは指定したデータディレクトリでサーバが起動しているかどうかを確認します。
起動している場合は<ACRONYM
CLASS="ACRONYM"
>PID</ACRONYM
>と、サーバを起動する時に使われたコマンドラインオプションを表示します。
  </P
><P
><TT
CLASS="OPTION"
>promote</TT
>モードでは、指定したデータディレクトリで稼動中のスタンバイサーバにリカバリを終了し読み書き操作を始めるようコマンドを送ります。
  </P
><P
><TT
CLASS="OPTION"
>kill</TT
>モードでは指定したプロセスにシグナルを送信することができます。
これは特に、<SPAN
CLASS="APPLICATION"
>kill</SPAN
>コマンドを持たない<SPAN
CLASS="PRODUCTNAME"
>Microsoft Windows</SPAN
>で有用です。
サポートするシグナル名の一覧は<TT
CLASS="LITERAL"
>--help</TT
>を使用して確認してください。
  </P
><P
><TT
CLASS="OPTION"
>register</TT
>モードにより、<SPAN
CLASS="PRODUCTNAME"
>Microsoft Windows</SPAN
>上でシステムサービスを登録することができます。
<TT
CLASS="OPTION"
>-S</TT
>オプションによりサービスの起動種類を<SPAN
CLASS="QUOTE"
>"auto"</SPAN
>（システム起動時に自動的にサービスを起動）か<SPAN
CLASS="QUOTE"
>"demand"</SPAN
>（要望が合った時にサービスを起動）から選択することができます。
  </P
><P
><TT
CLASS="OPTION"
>unregister</TT
>により<SPAN
CLASS="PRODUCTNAME"
>Microsoft Windows</SPAN
>上のシステムサービスを登録解除することができます。
これは過去に<TT
CLASS="OPTION"
>register</TT
>コマンドによりなされた変更を元に戻します。
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="APP-PG-CTL-OPTIONS"
></A
><H2
>オプション</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="OPTION"
>-c</TT
></DT
><DD
><P
>実現可能なプラットフォームにおいて、サーバクラッシュ時にcoreファイルを生成できるように関連するソフトリソース制限を上げます。
障害が起きたサーバプロセスから得られたスタックトレースを行うことができますので、問題のデバッグや診断の際に有用です。
       </P
></DD
><DT
><TT
CLASS="OPTION"
>-D <TT
CLASS="REPLACEABLE"
><I
>datadir</I
></TT
></TT
></DT
><DD
><P
>データベースファイルのファイルシステム上の場所を指定します。
これが省略された場合、<TT
CLASS="ENVAR"
>PGDATA</TT
>環境変数が使われます。
       </P
></DD
><DT
><TT
CLASS="OPTION"
>-l <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
></TT
></DT
><DD
><P
>サーバログ出力を<TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
>に追加します。
そのファイルが存在しない場合は作成されます。
<SPAN
CLASS="SYSTEMITEM"
>umask</SPAN
>は077に設定されますので、他のユーザからのログファイルへのアクセスはデフォルトでは許可されません。
       </P
></DD
><DT
><TT
CLASS="OPTION"
>-m <TT
CLASS="REPLACEABLE"
><I
>mode</I
></TT
></TT
></DT
><DD
><P
>停止（シャットダウン）モードを指定します。
<TT
CLASS="REPLACEABLE"
><I
>mode</I
></TT
>は<TT
CLASS="LITERAL"
>smart</TT
>、<TT
CLASS="LITERAL"
>fast</TT
>、<TT
CLASS="LITERAL"
>immediate</TT
>、もしくはこの3つのモード名の最初の1文字をとることができます。
省略時は<TT
CLASS="LITERAL"
>smart</TT
>が使用されます。
       </P
></DD
><DT
><TT
CLASS="OPTION"
>-o <TT
CLASS="REPLACEABLE"
><I
>options</I
></TT
></TT
></DT
><DD
><P
>直接<TT
CLASS="COMMAND"
>postgres</TT
>に渡されるオプションを指定します。
       </P
><P
>このオプションは、通常、1グループとして渡されることを保証するために、単一引用符または二重引用符で囲まなければなりません。
       </P
></DD
><DT
><TT
CLASS="OPTION"
>-o <TT
CLASS="REPLACEABLE"
><I
>initdb-options</I
></TT
></TT
></DT
><DD
><P
><TT
CLASS="COMMAND"
>initdb</TT
>コマンドに直接渡すオプションを指定します。
       </P
><P
>このオプションは通常、ひとまとめとして渡すために確実に、単一引用符または二重引用符で囲まなければなりません。
       </P
></DD
><DT
><TT
CLASS="OPTION"
>-p <TT
CLASS="REPLACEABLE"
><I
>path</I
></TT
></TT
></DT
><DD
><P
><TT
CLASS="FILENAME"
>postgres</TT
>の実行プログラムの位置を指定します。
デフォルトでは<TT
CLASS="FILENAME"
>postgres</TT
>の実行プログラムは<TT
CLASS="COMMAND"
>pg_ctl</TT
>と同じディレクトリにあるものと仮定されます。また、このディレクトリに存在しなければ、構築時に指定したインストールディレクトリが使われます。
このオプションは、何か異例なことをしていて<TT
CLASS="FILENAME"
>postgres</TT
>が見つからないというようなエラーが出ない限り、使う必要はありません。
       </P
><P
><TT
CLASS="LITERAL"
>init</TT
>モードでは、このオプションは同様に<TT
CLASS="FILENAME"
>initdb</TT
>実行プログラムの場所を指定します。
       </P
></DD
><DT
><TT
CLASS="OPTION"
>-s</TT
></DT
><DD
><P
>エラーメッセージのみを表示し、その他の情報を表示しません。
       </P
></DD
><DT
><TT
CLASS="OPTION"
>-t</TT
></DT
><DD
><P
>起動または停止の待機が完了するまでの最大の秒数。
デフォルトは60秒です。
       </P
></DD
><DT
><TT
CLASS="OPTION"
>-w</TT
></DT
><DD
><P
>起動もしくは停止処理が完了するのを待ちます。
待機は停止処理ではデフォルトのオプションですが、起動処理ではデフォルトではありません。
起動処理を待機している場合、<TT
CLASS="COMMAND"
>pg_ctl</TT
>は繰り返しサーバへの接続を試行します。
停止処理を待機している場合、<TT
CLASS="COMMAND"
>pg_ctl</TT
>はサーバが<ACRONYM
CLASS="ACRONYM"
>PID</ACRONYM
>ファイルを削除するまで待機します。
<TT
CLASS="COMMAND"
>pg_ctl</TT
>は、起動もしくは停止が成功したかどうかに基づいて正しい終了コードを返します。
       </P
></DD
><DT
><TT
CLASS="OPTION"
>-W</TT
></DT
><DD
><P
>起動処理もしくは停止処理が完了するのを待ちません。
起動と再起動モードのデフォルトです。
       </P
></DD
></DL
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="APP-PG-CTL-WINDOWS-OPTIONS"
></A
><H3
>Windows用オプション</H3
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="OPTION"
>-N <TT
CLASS="REPLACEABLE"
><I
>servicename</I
></TT
></TT
></DT
><DD
><P
>登録するシステムサービスの名前です。
この名前は、システム名としても表示名としても使用されます。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-P <TT
CLASS="REPLACEABLE"
><I
>password</I
></TT
></TT
></DT
><DD
><P
>サービスを開始するユーザ用のパスワードです。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-S <TT
CLASS="REPLACEABLE"
><I
>start-type</I
></TT
></TT
></DT
><DD
><P
>登録するシステムサービスの起動種類です。
気同種類は<TT
CLASS="LITERAL"
>auto</TT
>、<TT
CLASS="LITERAL"
>demand</TT
>、またはこれら2単語の先頭の文字のいずれかです。
省略時は<TT
CLASS="LITERAL"
>auto</TT
>が使用されます。
      </P
></DD
><DT
><TT
CLASS="OPTION"
>-U <TT
CLASS="REPLACEABLE"
><I
>username</I
></TT
></TT
></DT
><DD
><P
>サービスを起動するユーザのユーザ名です。
ドメインユーザの場合は<TT
CLASS="LITERAL"
>DOMAIN\username</TT
>書式を使用してください。
      </P
></DD
></DL
></DIV
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN83286"
></A
><H2
>環境</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="ENVAR"
>PGDATA</TT
></DT
><DD
><P
>      デフォルトのデータ保存場所です。
     </P
></DD
></DL
></DIV
><P
>また、<TT
CLASS="COMMAND"
>pg_ctl</TT
>は、他のほとんどの<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>ユーティリティと同様、<SPAN
CLASS="APPLICATION"
>libpq</SPAN
>でサポートされる環境変数を使用します（<A
HREF="libpq-envars.html"
>&#38917;31.13</A
>を参照してください）。
この他のサーバ変数については<A
HREF="app-postgres.html"
><SPAN
CLASS="APPLICATION"
>postgres</SPAN
></A
>を参照してください。
  </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN83300"
></A
><H2
>ファイル</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="FILENAME"
>postmaster.pid</TT
></DT
><DD
><P
>データディレクトリにこのファイルがあるかどうかによって、<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>はサーバが現在稼働中かどうかを決定します。
     </P
></DD
><DT
><TT
CLASS="FILENAME"
>postmaster.opts</TT
></DT
><DD
><P
>このファイルがデータディレクトリにあれば、<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>（の<TT
CLASS="OPTION"
>restart</TT
>モード）は、<TT
CLASS="OPTION"
>-o</TT
>で上書きされるものを除き、このファイルの内容をオプションとして<TT
CLASS="COMMAND"
>postgres</TT
>に渡します。
また、このファイルの内容が<TT
CLASS="OPTION"
>status</TT
>モードで表示されます。
     </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="R1-APP-PGCTL-2"
></A
><H2
>例</H2
><DIV
CLASS="REFSECT2"
><A
NAME="R2-APP-PGCTL-3"
></A
><H3
>サーバの起動</H3
><P
>サーバを起動します。
</P><PRE
CLASS="SCREEN"
><SAMP
CLASS="PROMPT"
>$</SAMP
> <KBD
CLASS="USERINPUT"
>pg_ctl start</KBD
></PRE
><P>
   </P
><P
>以下はサーバが接続を植え付けられるようになるまで待機する起動例です。
</P><PRE
CLASS="SCREEN"
><SAMP
CLASS="PROMPT"
>$</SAMP
> <KBD
CLASS="USERINPUT"
>pg_ctl -w start</KBD
></PRE
><P>
   </P
><P
>ポート5433を使い<CODE
CLASS="FUNCTION"
>fsync</CODE
>なしでサーバを起動します。
</P><PRE
CLASS="SCREEN"
><SAMP
CLASS="PROMPT"
>$</SAMP
> <KBD
CLASS="USERINPUT"
>pg_ctl -o "-F -p 5433" start</KBD
></PRE
><P></P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-APP-PGCTL-4"
></A
><H3
>サーバの停止</H3
><P
>サーバを停止するためには以下を使用します。
</P><PRE
CLASS="SCREEN"
><SAMP
CLASS="PROMPT"
>$</SAMP
> <KBD
CLASS="USERINPUT"
>pg_ctl stop</KBD
></PRE
><P>
<TT
CLASS="OPTION"
>-m</TT
>オプションにより<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>どのように</I
></SPAN
>バックエンドを停止させるかを制御できます。
</P><PRE
CLASS="SCREEN"
><SAMP
CLASS="PROMPT"
>$</SAMP
> <KBD
CLASS="USERINPUT"
>pg_ctl stop -m fast</KBD
></PRE
><P></P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-APP-PGCTL-5"
></A
><H3
>サーバの再起動</H3
><P
>サーバの再起動は、サーバを停止してもう一度起動するのとほぼ同じですが、違うのは、<TT
CLASS="COMMAND"
>pg_ctl</TT
>が以前起動していたインスタンスに渡されていたコマンドラインオプションを保存し再利用することです。
下記はサーバを再起動する最も簡単な方法です。
</P><PRE
CLASS="SCREEN"
><SAMP
CLASS="PROMPT"
>$</SAMP
> <KBD
CLASS="USERINPUT"
>pg_ctl restart</KBD
></PRE
><P>
   </P
><P
>再起動の際にサーバのシャットダウンを待ってから起動を行う方法です。
</P><PRE
CLASS="SCREEN"
><SAMP
CLASS="PROMPT"
>$</SAMP
> <KBD
CLASS="USERINPUT"
>pg_ctl -w restart</KBD
></PRE
><P>
   </P
><P
>以下はポート5433を使って再起動し、再起動後に<CODE
CLASS="FUNCTION"
>fsync</CODE
>を無効にする方法です。
</P><PRE
CLASS="SCREEN"
><SAMP
CLASS="PROMPT"
>$</SAMP
> <KBD
CLASS="USERINPUT"
>pg_ctl -o "-F -p 5433" restart</KBD
></PRE
><P></P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="R2-APP-PGCTL-6"
></A
><H3
>サーバの状態表示</H3
><P
>下記は<SPAN
CLASS="APPLICATION"
>pg_ctl</SPAN
>からの状態の出力の例です。
</P><PRE
CLASS="SCREEN"
><SAMP
CLASS="PROMPT"
>$</SAMP
> <KBD
CLASS="USERINPUT"
>pg_ctl status</KBD
>
<SAMP
CLASS="COMPUTEROUTPUT"
>pg_ctl: server is running (PID: 13718)
/usr/local/pgsql/bin/postgres "-D" "/usr/local/pgsql/data" "-p" "5433" "-B" "128"</SAMP
></PRE
><P>
これは再起動（restart）モードで呼び出されるコマンドラインです。
   </P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN83371"
></A
><H2
>関連項目</H2
><A
HREF="app-initdb.html"
>initdb</A
>, <A
HREF="app-postgres.html"
><SPAN
CLASS="APPLICATION"
>postgres</SPAN
></A
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="app-pgcontroldata.html"
ACCESSKEY="P"
>&#21069;&#12398;&#12506;&#12540;&#12472;</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>&#12507;&#12540;&#12512;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="app-pgresetxlog.html"
ACCESSKEY="N"
>&#27425;&#12398;&#12506;&#12540;&#12472;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><SPAN
CLASS="APPLICATION"
>pg_controldata</SPAN
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="reference-server.html"
ACCESSKEY="U"
>&#19978;&#12395;&#25147;&#12427;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><SPAN
CLASS="APPLICATION"
>pg_resetxlog</SPAN
></TD
></TR
></TABLE
></DIV
></BODY
></HTML
></div>
