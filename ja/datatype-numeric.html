<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>数値データ型</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version "><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="PostgreSQL 9.1.4文書"
HREF="index.html"><LINK
REL="UP"
TITLE="データ型"
HREF="datatype.html"><LINK
REL="PREVIOUS"
TITLE="データ型"
HREF="datatype.html"><LINK
REL="NEXT"
TITLE="通貨型"
HREF="datatype-money.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=euc-jp"><META
NAME="creation"
CONTENT="2012-06-16T03:12:10"></HEAD
><BODY
CLASS="SECT1"
><script type="text/javascript">
var mod_layout = 'test';
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-50659-6");
pageTracker._trackPageview();
</script>
<style>
body{margin:0;}
#lay_body{margin:8px;}
#lay_header{margin:0 0 4px 0;border:0;padding:0;}
#lay_header .b1{border-bottom:#cef solid 1px;}
#lay_header .b2{border-bottom:#8df solid 1px;}
#lay_header .b3{border-bottom:#4bf solid 1px;padding:5px 5px 3px 5px;background:#0af;text-align:center;color:#fff;}
#lay_header a{text-decoration:none;color:#fff;font-weight:bold;}
#lay_header a:hover{text-decoration:underline;}
</style>
<div id="lay_header"><div class="b1"><div class="b2"><div class="b3">
<a href="http://lets.postgresql.jp/" target="_blank">PostgreSQLポータルサイト ＜Let's Postgres＞ http://lets.postgresql.jp/</a><br>
入門から運用、チューニングノウハウ、新機能の解説など、幅広い内容の技術解説記事をお読みいただけます。
</div></div></div></div>
<div id="lay_body">
<DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="5"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>PostgreSQL 9.1.4文書</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="データ型"
HREF="datatype.html"
ACCESSKEY="P"
>&#21069;&#12398;&#12506;&#12540;&#12472;</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="データ型"
HREF="datatype.html"
>&#24059;&#25147;&#12375;</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
>&#31532; 8&#31456;データ型</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
TITLE="データ型"
HREF="datatype.html"
>&#26089;&#36865;&#12426;</A
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="top"
><A
TITLE="通貨型"
HREF="datatype-money.html"
ACCESSKEY="N"
>&#27425;&#12398;&#12506;&#12540;&#12472;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="DATATYPE-NUMERIC"
>8.1. 数値データ型</A
></H1
><P
>数値データ型には2、4、8バイト整数と、4、8バイト浮動小数点および精度設定が可能な数があります。
<A
HREF="datatype-numeric.html#DATATYPE-NUMERIC-TABLE"
>&#34920;8-2</A
>に使用可能な型を列挙します。
   </P
><DIV
CLASS="TABLE"
><A
NAME="DATATYPE-NUMERIC-TABLE"
></A
><P
><B
>&#34920; 8-2. 数値データ型</B
></P
><TABLE
BORDER="1"
CLASS="CALSTABLE"
><COL><COL><COL><COL><THEAD
><TR
><TH
>型名</TH
><TH
>格納サイズ</TH
><TH
>説明</TH
><TH
>範囲</TH
></TR
></THEAD
><TBODY
><TR
><TD
><TT
CLASS="TYPE"
>smallint</TT
></TD
><TD
>2バイト</TD
><TD
>狭範囲の整数</TD
><TD
>-32768から+32767</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>integer</TT
></TD
><TD
>4バイト</TD
><TD
>典型的に使用する整数</TD
><TD
>-2147483648から+2147483647</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>bigint</TT
></TD
><TD
>8バイト</TD
><TD
>広範囲整数</TD
><TD
>-9223372036854775808から9223372036854775807</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>decimal</TT
></TD
><TD
>可変長</TD
><TD
>ユーザ指定精度、正確</TD
><TD
>小数点前までは131072桁、小数点以降は16383桁</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>numeric</TT
></TD
><TD
>可変長</TD
><TD
>ユーザ指定精度、正確</TD
><TD
>小数点前までは131072桁、小数点以降は16383桁</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>real</TT
></TD
><TD
>4バイト</TD
><TD
>可変精度、不正確</TD
><TD
>6桁精度</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>double precision</TT
></TD
><TD
>8バイト</TD
><TD
>可変精度、不正確</TD
><TD
>15桁精度</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>serial</TT
></TD
><TD
>4バイト</TD
><TD
>自動増分整数</TD
><TD
>1から2147483647</TD
></TR
><TR
><TD
><TT
CLASS="TYPE"
>bigserial</TT
></TD
><TD
>8バイト</TD
><TD
>広範囲自動増分整数</TD
><TD
>1から9223372036854775807</TD
></TR
></TBODY
></TABLE
></DIV
><P
>数値データ型に対する定数の構文は<A
HREF="sql-syntax-lexical.html#SQL-SYNTAX-CONSTANTS"
>&#38917;4.1.2</A
>で説明しています。
数値データ型には対応する算術演算子と関数の一式が揃っています。
詳細は<A
HREF="functions.html"
>&#31532;9&#31456;</A
>を参照してください。
次節でデータ型について詳しく説明します。
   </P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DATATYPE-INT"
>8.1.1. 整数データ型</A
></H2
><P
><TT
CLASS="TYPE"
>smallint</TT
>、<TT
CLASS="TYPE"
>integer</TT
>、<TT
CLASS="TYPE"
>bigint</TT
>は各種範囲の整数、つまり小数点以下の端数がない数を保持します。
許容範囲から外れた値を保存しようとするとエラーになります。
    </P
><P
><TT
CLASS="TYPE"
>integer</TT
>型は数値の範囲、格納サイズおよび性能において最も釣合いが取れていますので、一般的に使用されます。
<TT
CLASS="TYPE"
>smallint</TT
>型は一般的にディスク容量に制限が付いている場合にのみ使用します。
<TT
CLASS="TYPE"
>bigint</TT
>型は<TT
CLASS="TYPE"
>integer</TT
>の許容範囲では十分ではない場合にのみ使用すべきです。
<TT
CLASS="TYPE"
>integer</TT
>データ型の方がずっと速いからです。
    </P
><P
>非常にわずかなオペレーティングシステムで<TT
CLASS="TYPE"
>bigint</TT
>型は、8バイト整数をコンパイラがサポートしているかどうかに依存しますので正常に機能するとは限りません。
そのようなマシンでは<TT
CLASS="TYPE"
>bigint</TT
>は<TT
CLASS="TYPE"
>integer</TT
>と同じように振舞いますが、領域は8バイトまで必要です。
（この状況が当てはまる最近のプラットフォームは把握していません。）
    </P
><P
><ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>では整数の型として<TT
CLASS="TYPE"
>integer</TT
>（または<TT
CLASS="TYPE"
>int</TT
>）と<TT
CLASS="TYPE"
>smallint</TT
>、<TT
CLASS="TYPE"
>bigint</TT
>のみを規定しています。
<TT
CLASS="TYPE"
>bigint</TT
>と<TT
CLASS="TYPE"
>int2</TT
>、<TT
CLASS="TYPE"
>int4</TT
>および<TT
CLASS="TYPE"
>int8</TT
>は拡張ですが、いくつか他の<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>データベースシステムでも使われています。
    </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DATATYPE-NUMERIC-DECIMAL"
>8.1.2. 任意の精度を持つ数</A
></H2
><P
><TT
CLASS="TYPE"
>numeric</TT
>型は、非常に大きな桁数で数値を格納でき、正確な計算を行えます。
通貨金額やその他正確性が求められる数量を保存する時は特に、この型を推奨します。
とは言っても、<TT
CLASS="TYPE"
>numeric</TT
>の値に対する算術演算の動作は次節で説明する整数型、もしくは浮動小数点データ型に比較し非常に遅くなります。
    </P
><P
>この後の説明では、次の用語を使用します。
<TT
CLASS="TYPE"
>numeric</TT
>の<I
CLASS="FIRSTTERM"
>位取り</I
>とは、小数点の右側の小数点以下の桁数をいいます。
<TT
CLASS="TYPE"
>numeric</TT
>の<I
CLASS="FIRSTTERM"
>精度</I
>とは数字全体の有効桁数です。
すなわち、小数点をはさんでいる両側の桁数の合計です。
そのため、23.5141という数値の精度は6で位取りは4となります。
整数の位取りは、ゼロであるとみなすことができます。
    </P
><P
><TT
CLASS="TYPE"
>numeric</TT
>列の数値の最大精度と最大位取りはともに設定することができます。
列のデータ型を<TT
CLASS="TYPE"
>numeric</TT
>と宣言するには次の構文を使います。
</P><PRE
CLASS="PROGRAMLISTING"
>NUMERIC(<TT
CLASS="REPLACEABLE"
><I
>precision</I
></TT
>, <TT
CLASS="REPLACEABLE"
><I
>scale</I
></TT
>)</PRE
><P>
精度は正数、位取りは0もしくは正数でなければなりません。
他に
</P><PRE
CLASS="PROGRAMLISTING"
>NUMERIC(<TT
CLASS="REPLACEABLE"
><I
>precision</I
></TT
>)</PRE
><P>
は位取りが0であることを選択します。
</P><PRE
CLASS="PROGRAMLISTING"
>NUMERIC</PRE
><P>
精度または位取りの指定がない場合、実装されている限界の精度まで、いかなる精度あるいは位取りの値も格納できる列が作られます。
この類の列はいかなる特定の位取りに対しても入力値を強要しませんが、宣言された位取りを持つ<TT
CLASS="TYPE"
>numeric</TT
>列は入力値にその位取りを強要します。
（標準<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>はデフォルトとして位取り0を要求していて、整数に対する厳密性を強制しています。
しかし、この方法はあまり役に立たないと思われます。
もし移植性を心配するなら、常に精度と位取りを明示的に設定してください。）
    </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>&#27880;&#24847;: </B
>明示的に型宣言で指定される場合に許される最大精度は1000です。
精度の指定がない<TT
CLASS="TYPE"
>NUMERIC</TT
>は<A
HREF="datatype-numeric.html#DATATYPE-NUMERIC-TABLE"
>&#34920;8-2</A
>で説明する制限に従います。

     </P
></BLOCKQUOTE
></DIV
><P
>格納される値の位取りが宣言された列の位取りより大きかった場合、システムは指定された小数部の桁まで値を丸めます。
そして、小数点の左側の桁数が、宣言された精度から宣言された位取りを差し引いた数を超える場合にエラーとなります。
    </P
><P
>数値は物理的に先頭や末尾に0を付与されることなく格納されます。
したがって、列の宣言された精度と位取りは最大であり、固定的に割り当てられていません。
（この意味では<TT
CLASS="TYPE"
>numeric</TT
>は<TT
CLASS="TYPE"
>char(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
>よりも<TT
CLASS="TYPE"
>varchar(<TT
CLASS="REPLACEABLE"
><I
>n</I
></TT
>)</TT
>に似ています。）
実際の格納に必要な容量は、10進数4桁のそれぞれのグループに対して2バイトと、3から8バイトのオーバヘッドです。
    </P
><P
>通常の数値に加え、<TT
CLASS="TYPE"
>numeric</TT
>型は、<SPAN
CLASS="QUOTE"
>"非数値"</SPAN
>を意味する<TT
CLASS="LITERAL"
>NaN</TT
>という特別な値を取ることができます。
<TT
CLASS="LITERAL"
>NaN</TT
>に対する操作はすべて、別の<TT
CLASS="LITERAL"
>NaN</TT
>を生成します。
この値をSQLコマンドの定数として記述する場合は、例えば<TT
CLASS="LITERAL"
>UPDATE table SET x = 'NaN'</TT
>のように、引用符でくくらなければなりません。
入力の際は、<TT
CLASS="LITERAL"
>NaN</TT
>という文字列は大文字小文字の区別なく認識されます。
    </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>&#27880;&#24847;: </B
>ほとんどの<SPAN
CLASS="QUOTE"
>"非数"</SPAN
>の実装において、<TT
CLASS="LITERAL"
>NaN</TT
>は（<TT
CLASS="LITERAL"
>NaN</TT
>を含む）他の数値と等価になるとみなされていません。
<TT
CLASS="TYPE"
>numeric</TT
>値をソートできる、また、ツリーを基にしたインデックスで使用できるように、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>は<TT
CLASS="LITERAL"
>NaN</TT
>同士は等しく、すべての<TT
CLASS="LITERAL"
>NaN</TT
>以外の値よりも大きな値となるものとして扱います。
     </P
></BLOCKQUOTE
></DIV
><P
><TT
CLASS="TYPE"
>decimal</TT
>と<TT
CLASS="TYPE"
>numeric</TT
>型は等価です。
2つのデータ型はともに標準<ACRONYM
CLASS="ACRONYM"
>SQL</ACRONYM
>に従っています。
    </P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DATATYPE-FLOAT"
>8.1.3. 浮動小数点データ型</A
></H2
><P
><TT
CLASS="TYPE"
>real</TT
>と<TT
CLASS="TYPE"
>double precision</TT
>は不正確な可変精度の数値データ型です。
実際にはこれらのデータ型は、使用しているプロセッサ、オペレーティングシステムおよびコンパイラがサポートしていれば、通常は（それぞれ単精度および倍精度の）バイナリ浮動小数点演算用の<ACRONYM
CLASS="ACRONYM"
>IEEE</ACRONYM
>規格754の実装です。
    </P
><P
>不正確というのは、ある値はそのままで内部形式に変換されずに近似値として保存されるということです。
ですから、保存しようとする値と抽出しようとする値の間に多少の差異が認められます。
これらのエラーを管理し計算によって補正をどうするかについては、数学とコンピュータ科学の系統すべてに関わることで、以下の点を除き触れません。
     <P
></P
></P><UL
><LI
><P
>（金銭金額など）正確な記録と計算が必要な時は代わりに<TT
CLASS="TYPE"
>numeric</TT
>を使用してください。
       </P
></LI
><LI
><P
>これらのデータ型で何か重要な件に対し複雑な計算を必要とする時、特に（無限大やアンダーフローのような）境界線におけるある種の振舞いについて信頼を置かなければならないのであれば、実装を注意深く検証しなければなりません。
       </P
></LI
><LI
><P
>2つの浮動小数点値が等価であるのかどうかの比較は予想通りに行かない時もあります。
       </P
></LI
></UL
><P>
    </P
><P
>ほとんどのプラットフォームでは<TT
CLASS="TYPE"
>real</TT
>は最低6桁の精度を持った少なくとも-1E+37と+1E+37の範囲です。
<TT
CLASS="TYPE"
>double precision</TT
>は通常最低15桁の精度でおよそ-1E+308と+1E+308の範囲です。
大き過ぎたり小さ過ぎる値はエラーの原因となります。
入力値の精度が高過ぎる場合は丸められることがあります。
ゼロに限りなく近い値で、しかもゼロとは区別されているようにみなされない数値はアンダーフローエラーを引き起こします。
    </P
><P
>通常の数値に加え、浮動小数点型では以下の特殊な値を取ります。
<P
CLASS="LITERALLAYOUT"
><TT
CLASS="LITERAL"
>Infinity</TT
><br>
<TT
CLASS="LITERAL"
>-Infinity</TT
><br>
<TT
CLASS="LITERAL"
>NaN</TT
></P
>
これらはそれぞれ、IEEE 754の特殊な値、<SPAN
CLASS="QUOTE"
>"無限大"</SPAN
>、<SPAN
CLASS="QUOTE"
>"負の無限大"</SPAN
>、<SPAN
CLASS="QUOTE"
>"非数値"</SPAN
>を表します。
（浮動小数点計算がIEEE 754に従わないマシンでは、これらの値はおそらく正しく動作しません。）
これらの値をSQLコマンドの定数として記述する場合、例えば<TT
CLASS="LITERAL"
>UPDATE table SET x = 'Infinity'</TT
>のように引用符でくくる必要があります。
入力の際、これらの文字列は大文字小文字の区別なく認識されます。
    </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>&#27880;&#24847;: </B
>IEEE754では、<TT
CLASS="LITERAL"
>NaN</TT
>は（<TT
CLASS="LITERAL"
>NaN</TT
>を含む）他のすべての浮動小数点値と比べた時に不等でなければならないと規定しています。
浮動小数点値をソートできる、また、ツリーを基にしたインデックスで使用できるように、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>は<TT
CLASS="LITERAL"
>NaN</TT
>同士は等しく、すべての<TT
CLASS="LITERAL"
>NaN</TT
>以外の値よりも大きな値となるものとして扱います。
     </P
></BLOCKQUOTE
></DIV
><P
>また、<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>では不正確な数値型を規定する標準SQLの<TT
CLASS="TYPE"
>float</TT
>と<TT
CLASS="TYPE"
>float(<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>)</TT
>をサポートしています。
ここで、<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>は<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>2進数</I
></SPAN
>桁数で最低受け付ける精度を指定します。
<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>は<TT
CLASS="TYPE"
>float(1)</TT
>から<TT
CLASS="TYPE"
>float(24)</TT
>を<TT
CLASS="TYPE"
>real</TT
>を選択するものとして受け付け、<TT
CLASS="TYPE"
>float(25)</TT
>から<TT
CLASS="TYPE"
>float(53)</TT
>を<TT
CLASS="TYPE"
>double precision</TT
>を選択するものとして受け付けます。
許容範囲外の<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>の値はエラーになります。
精度指定のない<TT
CLASS="TYPE"
>float</TT
>は<TT
CLASS="TYPE"
>double precision</TT
>として解釈されます。
    </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>&#27880;&#24847;: </B
>7.4より前の<SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
>では、<TT
CLASS="TYPE"
>float(<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>)</TT
>の精度は<SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>10進数</I
></SPAN
>桁数として解釈されました。
これは、2進数桁数の精度を規定する標準SQLに一致するように変更されたものです。
<TT
CLASS="TYPE"
>real</TT
>と<TT
CLASS="TYPE"
>double precision</TT
>の仮数がそれぞれ24ビットと53ビットであるという前提は、IEEE標準浮動小数点の実装では正しいものです。
非IEEEのプラットフォームでは、一部無効になる可能性がありますが、単純化のためにすべてのプラットフォームで<TT
CLASS="REPLACEABLE"
><I
>p</I
></TT
>の範囲は同一です。
     </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="DATATYPE-SERIAL"
>8.1.4. 連番型</A
></H2
><P
><TT
CLASS="TYPE"
>serial</TT
>および<TT
CLASS="TYPE"
>bigserial</TT
>データ型は正確にはデータ型ではなく、テーブルの列に一意の識別子を作成する簡便な表記法です
（他のデータベースでサポートされる<TT
CLASS="LITERAL"
>AUTO_INCREMENT</TT
>プロパティに似ています）。
現在の実装では、

</P><PRE
CLASS="PROGRAMLISTING"
>CREATE TABLE <TT
CLASS="REPLACEABLE"
><I
>tablename</I
></TT
> (
    <TT
CLASS="REPLACEABLE"
><I
>colname</I
></TT
> SERIAL
);</PRE
><P>

は以下を指定することと同じです。

</P><PRE
CLASS="PROGRAMLISTING"
>CREATE SEQUENCE <TT
CLASS="REPLACEABLE"
><I
>tablename</I
></TT
>_<TT
CLASS="REPLACEABLE"
><I
>colname</I
></TT
>_seq;
CREATE TABLE <TT
CLASS="REPLACEABLE"
><I
>tablename</I
></TT
> (
    <TT
CLASS="REPLACEABLE"
><I
>colname</I
></TT
> integer NOT NULL DEFAULT nextval('<TT
CLASS="REPLACEABLE"
><I
>tablename</I
></TT
>_<TT
CLASS="REPLACEABLE"
><I
>colname</I
></TT
>_seq')
);
ALTER SEQUENCE <TT
CLASS="REPLACEABLE"
><I
>tablename</I
></TT
>_<TT
CLASS="REPLACEABLE"
><I
>colname</I
></TT
>_seq OWNED BY <TT
CLASS="REPLACEABLE"
><I
>tablename</I
></TT
>.<TT
CLASS="REPLACEABLE"
><I
>colname</I
></TT
>;</PRE
><P>

このように整数列を作成し、その列のデフォルト値が連番ジェネレータから割り当てられるようにしました。
また、<TT
CLASS="LITERAL"
>NOT NULL</TT
>制約を適用することによって、NULL値が挿入されないようにします。
（たいていの場合は、重複する値を間違って挿入しないように、<TT
CLASS="LITERAL"
>UNIQUE</TT
>制約または<TT
CLASS="LITERAL"
>PRIMARY KEY</TT
>制約も追加することが推奨されますが、これは自動的には行われません。）
最後に、シーケンスは列に<SPAN
CLASS="QUOTE"
>"より所有"</SPAN
>されるものと印が付きます。
したがって、テーブルの列が削除された場合にシーケンスは削除されます。
    </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>&#27880;&#24847;: </B
><SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> 7.3より前では、<TT
CLASS="TYPE"
>serial</TT
>は<TT
CLASS="LITERAL"
>UNIQUE</TT
>を意味していました。
現在では自動的には行われません。
連番の列に一意性制約もしくはプライマリキーを付与したい場合は、他のデータ型同様指定しなければなりません。
     </P
></BLOCKQUOTE
></DIV
><P
><TT
CLASS="TYPE"
>serial</TT
>列にシーケンスの次の値を挿入するには、<TT
CLASS="TYPE"
>serial</TT
>列にそのデフォルト値を割り当てるよう指定してください。
これは、<TT
CLASS="COMMAND"
>INSERT</TT
>文の列リストからその列を除外する、もしくは<TT
CLASS="LITERAL"
>DEFAULT</TT
>キーワードを使用することで行うことができます。
    </P
><P
><TT
CLASS="TYPE"
>serial</TT
>と<TT
CLASS="TYPE"
>serial4</TT
>という型の名称は等価です。
ともに<TT
CLASS="TYPE"
>integer</TT
>列を作成します。
<TT
CLASS="TYPE"
>bigserial</TT
>と<TT
CLASS="TYPE"
>serial8</TT
>という型の名称も<TT
CLASS="TYPE"
>bigint</TT
>列を作成することを除いて同じ振舞いをします。
もしテーブルを使用する期間で2<SUP
>31</SUP
>以上の識別子を使用すると予測される場合、<TT
CLASS="TYPE"
>bigserial</TT
>を使用しなければいけません。
    </P
><P
><TT
CLASS="TYPE"
>serial</TT
>列用に作成されたシーケンスは、それを所有する列が削除された時に自動的に削除されます。
列を削除せずにシーケンスを削除することができますが、これにより強制的に列のデフォルト式が削除されます。
    </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="datatype.html"
ACCESSKEY="P"
>&#21069;&#12398;&#12506;&#12540;&#12472;</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>&#12507;&#12540;&#12512;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="datatype-money.html"
ACCESSKEY="N"
>&#27425;&#12398;&#12506;&#12540;&#12472;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>データ型</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="datatype.html"
ACCESSKEY="U"
>&#19978;&#12395;&#25147;&#12427;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>通貨型</TD
></TR
></TABLE
></DIV
></BODY
></HTML
></div>
